/**
* @vue/shared v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function un(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const ue={},Pt=[],We=()=>{},$i=()=>!1,$s=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),dn=e=>e.startsWith("onUpdate:"),Ce=Object.assign,fn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},ki=Object.prototype.hasOwnProperty,ae=(e,t)=>ki.call(e,t),te=Array.isArray,Ot=e=>ss(e)==="[object Map]",ks=e=>ss(e)==="[object Set]",On=e=>ss(e)==="[object Date]",ne=e=>typeof e=="function",ve=e=>typeof e=="string",Be=e=>typeof e=="symbol",pe=e=>e!==null&&typeof e=="object",_o=e=>(pe(e)||ne(e))&&ne(e.then)&&ne(e.catch),mo=Object.prototype.toString,ss=e=>mo.call(e),Ii=e=>ss(e).slice(8,-1),vo=e=>ss(e)==="[object Object]",pn=e=>ve(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,qt=un(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Is=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Ci=/-(\w)/g,ht=Is(e=>e.replace(Ci,(t,s)=>s?s.toUpperCase():"")),Ei=/\B([A-Z])/g,gt=Is(e=>e.replace(Ei,"-$1").toLowerCase()),go=Is(e=>e.charAt(0).toUpperCase()+e.slice(1)),Vs=Is(e=>e?`on${go(e)}`:""),dt=(e,t)=>!Object.is(e,t),ds=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},yo=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},_s=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let An;const Cs=()=>An||(An=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Es(e){if(te(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],o=ve(n)?Pi(n):Es(n);if(o)for(const i in o)t[i]=o[i]}return t}else if(ve(e)||pe(e))return e}const Mi=/;(?![^(]*\))/g,Ti=/:([^]+)/,Li=/\/\*[^]*?\*\//g;function Pi(e){const t={};return e.replace(Li,"").split(Mi).forEach(s=>{if(s){const n=s.split(Ti);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function kt(e){let t="";if(ve(e))t=e;else if(te(e))for(let s=0;s<e.length;s++){const n=kt(e[s]);n&&(t+=n+" ")}else if(pe(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Oi="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ai=un(Oi);function bo(e){return!!e||e===""}function Ri(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=Rt(e[n],t[n]);return s}function Rt(e,t){if(e===t)return!0;let s=On(e),n=On(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=Be(e),n=Be(t),s||n)return e===t;if(s=te(e),n=te(t),s||n)return s&&n?Ri(e,t):!1;if(s=pe(e),n=pe(t),s||n){if(!s||!n)return!1;const o=Object.keys(e).length,i=Object.keys(t).length;if(o!==i)return!1;for(const l in e){const r=e.hasOwnProperty(l),u=t.hasOwnProperty(l);if(r&&!u||!r&&u||!Rt(e[l],t[l]))return!1}}return String(e)===String(t)}function Di(e,t){return e.findIndex(s=>Rt(s,t))}const So=e=>!!(e&&e.__v_isRef===!0),$=e=>ve(e)?e:e==null?"":te(e)||pe(e)&&(e.toString===mo||!ne(e.toString))?So(e)?$(e.value):JSON.stringify(e,wo,2):String(e),wo=(e,t)=>So(t)?wo(e,t.value):Ot(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,o],i)=>(s[Hs(n,i)+" =>"]=o,s),{})}:ks(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Hs(s))}:Be(t)?Hs(t):pe(t)&&!te(t)&&!vo(t)?String(t):t,Hs=(e,t="")=>{var s;return Be(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Se;class xo{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Se,!t&&Se&&(this.index=(Se.scopes||(Se.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Se;try{return Se=this,t()}finally{Se=s}}}on(){++this._on===1&&(this.prevScope=Se,Se=this)}off(){this._on>0&&--this._on===0&&(Se=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function $o(e){return new xo(e)}function ko(){return Se}function Fi(e,t=!1){Se&&Se.cleanups.push(e)}let de;const Us=new WeakSet;class Io{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Se&&Se.active&&Se.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Us.has(this)&&(Us.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Eo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Rn(this),Mo(this);const t=de,s=Ne;de=this,Ne=!0;try{return this.fn()}finally{To(this),de=t,Ne=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)mn(t);this.deps=this.depsTail=void 0,Rn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Us.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Xs(this)&&this.run()}get dirty(){return Xs(this)}}let Co=0,zt,Kt;function Eo(e,t=!1){if(e.flags|=8,t){e.next=Kt,Kt=e;return}e.next=zt,zt=e}function hn(){Co++}function _n(){if(--Co>0)return;if(Kt){let t=Kt;for(Kt=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;zt;){let t=zt;for(zt=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function Mo(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function To(e){let t,s=e.depsTail,n=s;for(;n;){const o=n.prevDep;n.version===-1?(n===s&&(s=o),mn(n),ji(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=o}e.deps=t,e.depsTail=s}function Xs(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Lo(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Lo(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Zt)||(e.globalVersion=Zt,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Xs(e))))return;e.flags|=2;const t=e.dep,s=de,n=Ne;de=e,Ne=!0;try{Mo(e);const o=e.fn(e._value);(t.version===0||dt(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{de=s,Ne=n,To(e),e.flags&=-3}}function mn(e,t=!1){const{dep:s,prevSub:n,nextSub:o}=e;if(n&&(n.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)mn(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function ji(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Ne=!0;const Po=[];function st(){Po.push(Ne),Ne=!1}function nt(){const e=Po.pop();Ne=e===void 0?!0:e}function Rn(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=de;de=void 0;try{t()}finally{de=s}}}let Zt=0;class Ni{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class vn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!de||!Ne||de===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==de)s=this.activeLink=new Ni(de,this),de.deps?(s.prevDep=de.depsTail,de.depsTail.nextDep=s,de.depsTail=s):de.deps=de.depsTail=s,Oo(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=de.depsTail,s.nextDep=void 0,de.depsTail.nextDep=s,de.depsTail=s,de.deps===s&&(de.deps=n)}return s}trigger(t){this.version++,Zt++,this.notify(t)}notify(t){hn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{_n()}}}function Oo(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Oo(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const ms=new WeakMap,xt=Symbol(""),Qs=Symbol(""),Jt=Symbol("");function we(e,t,s){if(Ne&&de){let n=ms.get(e);n||ms.set(e,n=new Map);let o=n.get(s);o||(n.set(s,o=new vn),o.map=n,o.key=s),o.track()}}function Xe(e,t,s,n,o,i){const l=ms.get(e);if(!l){Zt++;return}const r=u=>{u&&u.trigger()};if(hn(),t==="clear")l.forEach(r);else{const u=te(e),f=u&&pn(s);if(u&&s==="length"){const d=Number(n);l.forEach((m,S)=>{(S==="length"||S===Jt||!Be(S)&&S>=d)&&r(m)})}else switch((s!==void 0||l.has(void 0))&&r(l.get(s)),f&&r(l.get(Jt)),t){case"add":u?f&&r(l.get("length")):(r(l.get(xt)),Ot(e)&&r(l.get(Qs)));break;case"delete":u||(r(l.get(xt)),Ot(e)&&r(l.get(Qs)));break;case"set":Ot(e)&&r(l.get(xt));break}}_n()}function Vi(e,t){const s=ms.get(e);return s&&s.get(t)}function Et(e){const t=le(e);return t===e?t:(we(t,"iterate",Jt),De(e)?t:t.map(ye))}function Ms(e){return we(e=le(e),"iterate",Jt),e}const Hi={__proto__:null,[Symbol.iterator](){return qs(this,Symbol.iterator,ye)},concat(...e){return Et(this).concat(...e.map(t=>te(t)?Et(t):t))},entries(){return qs(this,"entries",e=>(e[1]=ye(e[1]),e))},every(e,t){return Ze(this,"every",e,t,void 0,arguments)},filter(e,t){return Ze(this,"filter",e,t,s=>s.map(ye),arguments)},find(e,t){return Ze(this,"find",e,t,ye,arguments)},findIndex(e,t){return Ze(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ze(this,"findLast",e,t,ye,arguments)},findLastIndex(e,t){return Ze(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ze(this,"forEach",e,t,void 0,arguments)},includes(...e){return zs(this,"includes",e)},indexOf(...e){return zs(this,"indexOf",e)},join(e){return Et(this).join(e)},lastIndexOf(...e){return zs(this,"lastIndexOf",e)},map(e,t){return Ze(this,"map",e,t,void 0,arguments)},pop(){return Vt(this,"pop")},push(...e){return Vt(this,"push",e)},reduce(e,...t){return Dn(this,"reduce",e,t)},reduceRight(e,...t){return Dn(this,"reduceRight",e,t)},shift(){return Vt(this,"shift")},some(e,t){return Ze(this,"some",e,t,void 0,arguments)},splice(...e){return Vt(this,"splice",e)},toReversed(){return Et(this).toReversed()},toSorted(e){return Et(this).toSorted(e)},toSpliced(...e){return Et(this).toSpliced(...e)},unshift(...e){return Vt(this,"unshift",e)},values(){return qs(this,"values",ye)}};function qs(e,t,s){const n=Ms(e),o=n[t]();return n!==e&&!De(e)&&(o._next=o.next,o.next=()=>{const i=o._next();return i.value&&(i.value=s(i.value)),i}),o}const Ui=Array.prototype;function Ze(e,t,s,n,o,i){const l=Ms(e),r=l!==e&&!De(e),u=l[t];if(u!==Ui[t]){const m=u.apply(e,i);return r?ye(m):m}let f=s;l!==e&&(r?f=function(m,S){return s.call(this,ye(m),S,e)}:s.length>2&&(f=function(m,S){return s.call(this,m,S,e)}));const d=u.call(l,f,n);return r&&o?o(d):d}function Dn(e,t,s,n){const o=Ms(e);let i=s;return o!==e&&(De(e)?s.length>3&&(i=function(l,r,u){return s.call(this,l,r,u,e)}):i=function(l,r,u){return s.call(this,l,ye(r),u,e)}),o[t](i,...n)}function zs(e,t,s){const n=le(e);we(n,"iterate",Jt);const o=n[t](...s);return(o===-1||o===!1)&&bn(s[0])?(s[0]=le(s[0]),n[t](...s)):o}function Vt(e,t,s=[]){st(),hn();const n=le(e)[t].apply(e,s);return _n(),nt(),n}const qi=un("__proto__,__v_isRef,__isVue"),Ao=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Be));function zi(e){Be(e)||(e=String(e));const t=le(this);return we(t,"has",e),t.hasOwnProperty(e)}class Ro{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const o=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!o;if(s==="__v_isReadonly")return o;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(o?i?el:No:i?jo:Fo).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const l=te(t);if(!o){let u;if(l&&(u=Hi[s]))return u;if(s==="hasOwnProperty")return zi}const r=Reflect.get(t,s,_e(t)?t:n);return(Be(s)?Ao.has(s):qi(s))||(o||we(t,"get",s),i)?r:_e(r)?l&&pn(s)?r:r.value:pe(r)?o?Vo(r):Ts(r):r}}class Do extends Ro{constructor(t=!1){super(!1,t)}set(t,s,n,o){let i=t[s];if(!this._isShallow){const u=_t(i);if(!De(n)&&!_t(n)&&(i=le(i),n=le(n)),!te(t)&&_e(i)&&!_e(n))return u?!1:(i.value=n,!0)}const l=te(t)&&pn(s)?Number(s)<t.length:ae(t,s),r=Reflect.set(t,s,n,_e(t)?t:o);return t===le(o)&&(l?dt(n,i)&&Xe(t,"set",s,n):Xe(t,"add",s,n)),r}deleteProperty(t,s){const n=ae(t,s);t[s];const o=Reflect.deleteProperty(t,s);return o&&n&&Xe(t,"delete",s,void 0),o}has(t,s){const n=Reflect.has(t,s);return(!Be(s)||!Ao.has(s))&&we(t,"has",s),n}ownKeys(t){return we(t,"iterate",te(t)?"length":xt),Reflect.ownKeys(t)}}class Ki extends Ro{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Wi=new Do,Bi=new Ki,Gi=new Do(!0);const en=e=>e,rs=e=>Reflect.getPrototypeOf(e);function Yi(e,t,s){return function(...n){const o=this.__v_raw,i=le(o),l=Ot(i),r=e==="entries"||e===Symbol.iterator&&l,u=e==="keys"&&l,f=o[e](...n),d=s?en:t?vs:ye;return!t&&we(i,"iterate",u?Qs:xt),{next(){const{value:m,done:S}=f.next();return S?{value:m,done:S}:{value:r?[d(m[0]),d(m[1])]:d(m),done:S}},[Symbol.iterator](){return this}}}}function cs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Zi(e,t){const s={get(o){const i=this.__v_raw,l=le(i),r=le(o);e||(dt(o,r)&&we(l,"get",o),we(l,"get",r));const{has:u}=rs(l),f=t?en:e?vs:ye;if(u.call(l,o))return f(i.get(o));if(u.call(l,r))return f(i.get(r));i!==l&&i.get(o)},get size(){const o=this.__v_raw;return!e&&we(le(o),"iterate",xt),Reflect.get(o,"size",o)},has(o){const i=this.__v_raw,l=le(i),r=le(o);return e||(dt(o,r)&&we(l,"has",o),we(l,"has",r)),o===r?i.has(o):i.has(o)||i.has(r)},forEach(o,i){const l=this,r=l.__v_raw,u=le(r),f=t?en:e?vs:ye;return!e&&we(u,"iterate",xt),r.forEach((d,m)=>o.call(i,f(d),f(m),l))}};return Ce(s,e?{add:cs("add"),set:cs("set"),delete:cs("delete"),clear:cs("clear")}:{add(o){!t&&!De(o)&&!_t(o)&&(o=le(o));const i=le(this);return rs(i).has.call(i,o)||(i.add(o),Xe(i,"add",o,o)),this},set(o,i){!t&&!De(i)&&!_t(i)&&(i=le(i));const l=le(this),{has:r,get:u}=rs(l);let f=r.call(l,o);f||(o=le(o),f=r.call(l,o));const d=u.call(l,o);return l.set(o,i),f?dt(i,d)&&Xe(l,"set",o,i):Xe(l,"add",o,i),this},delete(o){const i=le(this),{has:l,get:r}=rs(i);let u=l.call(i,o);u||(o=le(o),u=l.call(i,o)),r&&r.call(i,o);const f=i.delete(o);return u&&Xe(i,"delete",o,void 0),f},clear(){const o=le(this),i=o.size!==0,l=o.clear();return i&&Xe(o,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(o=>{s[o]=Yi(o,e,t)}),s}function gn(e,t){const s=Zi(e,t);return(n,o,i)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?n:Reflect.get(ae(s,o)&&o in n?s:n,o,i)}const Ji={get:gn(!1,!1)},Xi={get:gn(!1,!0)},Qi={get:gn(!0,!1)};const Fo=new WeakMap,jo=new WeakMap,No=new WeakMap,el=new WeakMap;function tl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sl(e){return e.__v_skip||!Object.isExtensible(e)?0:tl(Ii(e))}function Ts(e){return _t(e)?e:yn(e,!1,Wi,Ji,Fo)}function nl(e){return yn(e,!1,Gi,Xi,jo)}function Vo(e){return yn(e,!0,Bi,Qi,No)}function yn(e,t,s,n,o){if(!pe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=sl(e);if(i===0)return e;const l=o.get(e);if(l)return l;const r=new Proxy(e,i===2?n:s);return o.set(e,r),r}function ft(e){return _t(e)?ft(e.__v_raw):!!(e&&e.__v_isReactive)}function _t(e){return!!(e&&e.__v_isReadonly)}function De(e){return!!(e&&e.__v_isShallow)}function bn(e){return e?!!e.__v_raw:!1}function le(e){const t=e&&e.__v_raw;return t?le(t):e}function Sn(e){return!ae(e,"__v_skip")&&Object.isExtensible(e)&&yo(e,"__v_skip",!0),e}const ye=e=>pe(e)?Ts(e):e,vs=e=>pe(e)?Vo(e):e;function _e(e){return e?e.__v_isRef===!0:!1}function G(e){return ol(e,!1)}function ol(e,t){return _e(e)?e:new il(e,t)}class il{constructor(t,s){this.dep=new vn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:le(t),this._value=s?t:ye(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||De(t)||_t(t);t=n?t:le(t),dt(t,s)&&(this._rawValue=t,this._value=n?t:ye(t),this.dep.trigger())}}function U(e){return _e(e)?e.value:e}const ll={get:(e,t,s)=>t==="__v_raw"?e:U(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const o=e[t];return _e(o)&&!_e(s)?(o.value=s,!0):Reflect.set(e,t,s,n)}};function Ho(e){return ft(e)?e:new Proxy(e,ll)}function rl(e){const t=te(e)?new Array(e.length):{};for(const s in e)t[s]=al(e,s);return t}class cl{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Vi(le(this._object),this._key)}}function al(e,t,s){const n=e[t];return _e(n)?n:new cl(e,t,s)}class ul{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new vn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Zt-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&de!==this)return Eo(this,!0),!0}get value(){const t=this.dep.track();return Lo(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function dl(e,t,s=!1){let n,o;return ne(e)?n=e:(n=e.get,o=e.set),new ul(n,o,s)}const as={},gs=new WeakMap;let wt;function fl(e,t=!1,s=wt){if(s){let n=gs.get(s);n||gs.set(s,n=[]),n.push(e)}}function pl(e,t,s=ue){const{immediate:n,deep:o,once:i,scheduler:l,augmentJob:r,call:u}=s,f=k=>o?k:De(k)||o===!1||o===0?Qe(k,1):Qe(k);let d,m,S,T,w=!1,E=!1;if(_e(e)?(m=()=>e.value,w=De(e)):ft(e)?(m=()=>f(e),w=!0):te(e)?(E=!0,w=e.some(k=>ft(k)||De(k)),m=()=>e.map(k=>{if(_e(k))return k.value;if(ft(k))return f(k);if(ne(k))return u?u(k,2):k()})):ne(e)?t?m=u?()=>u(e,2):e:m=()=>{if(S){st();try{S()}finally{nt()}}const k=wt;wt=d;try{return u?u(e,3,[T]):e(T)}finally{wt=k}}:m=We,t&&o){const k=m,A=o===!0?1/0:o;m=()=>Qe(k(),A)}const Y=ko(),D=()=>{d.stop(),Y&&Y.active&&fn(Y.effects,d)};if(i&&t){const k=t;t=(...A)=>{k(...A),D()}}let B=E?new Array(e.length).fill(as):as;const H=k=>{if(!(!(d.flags&1)||!d.dirty&&!k))if(t){const A=d.run();if(o||w||(E?A.some((Z,b)=>dt(Z,B[b])):dt(A,B))){S&&S();const Z=wt;wt=d;try{const b=[A,B===as?void 0:E&&B[0]===as?[]:B,T];B=A,u?u(t,3,b):t(...b)}finally{wt=Z}}}else d.run()};return r&&r(H),d=new Io(m),d.scheduler=l?()=>l(H,!1):H,T=k=>fl(k,!1,d),S=d.onStop=()=>{const k=gs.get(d);if(k){if(u)u(k,4);else for(const A of k)A();gs.delete(d)}},t?n?H(!0):B=d.run():l?l(H.bind(null,!0),!0):d.run(),D.pause=d.pause.bind(d),D.resume=d.resume.bind(d),D.stop=D,D}function Qe(e,t=1/0,s){if(t<=0||!pe(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,_e(e))Qe(e.value,t,s);else if(te(e))for(let n=0;n<e.length;n++)Qe(e[n],t,s);else if(ks(e)||Ot(e))e.forEach(n=>{Qe(n,t,s)});else if(vo(e)){for(const n in e)Qe(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Qe(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ns(e,t,s,n){try{return n?e(...n):e()}catch(o){Ls(o,t,s)}}function Ge(e,t,s,n){if(ne(e)){const o=ns(e,t,s,n);return o&&_o(o)&&o.catch(i=>{Ls(i,t,s)}),o}if(te(e)){const o=[];for(let i=0;i<e.length;i++)o.push(Ge(e[i],t,s,n));return o}}function Ls(e,t,s,n=!0){const o=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||ue;if(t){let r=t.parent;const u=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;r;){const d=r.ec;if(d){for(let m=0;m<d.length;m++)if(d[m](e,u,f)===!1)return}r=r.parent}if(i){st(),ns(i,null,10,[e,u,f]),nt();return}}hl(e,s,o,n,l)}function hl(e,t,s,n=!0,o=!1){if(o)throw e;console.error(e)}const Ie=[];let ze=-1;const At=[];let ct=null,Tt=0;const Uo=Promise.resolve();let ys=null;function mt(e){const t=ys||Uo;return e?t.then(this?e.bind(this):e):t}function _l(e){let t=ze+1,s=Ie.length;for(;t<s;){const n=t+s>>>1,o=Ie[n],i=Xt(o);i<e||i===e&&o.flags&2?t=n+1:s=n}return t}function wn(e){if(!(e.flags&1)){const t=Xt(e),s=Ie[Ie.length-1];!s||!(e.flags&2)&&t>=Xt(s)?Ie.push(e):Ie.splice(_l(t),0,e),e.flags|=1,qo()}}function qo(){ys||(ys=Uo.then(Ko))}function ml(e){te(e)?At.push(...e):ct&&e.id===-1?ct.splice(Tt+1,0,e):e.flags&1||(At.push(e),e.flags|=1),qo()}function Fn(e,t,s=ze+1){for(;s<Ie.length;s++){const n=Ie[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Ie.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function zo(e){if(At.length){const t=[...new Set(At)].sort((s,n)=>Xt(s)-Xt(n));if(At.length=0,ct){ct.push(...t);return}for(ct=t,Tt=0;Tt<ct.length;Tt++){const s=ct[Tt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}ct=null,Tt=0}}const Xt=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ko(e){try{for(ze=0;ze<Ie.length;ze++){const t=Ie[ze];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ns(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ze<Ie.length;ze++){const t=Ie[ze];t&&(t.flags&=-2)}ze=-1,Ie.length=0,zo(),ys=null,(Ie.length||At.length)&&Ko()}}let Oe=null,Wo=null;function bs(e){const t=Oe;return Oe=e,Wo=e&&e.type.__scopeId||null,t}function vl(e,t=Oe,s){if(!t||e._n)return e;const n=(...o)=>{n._d&&Wn(-1);const i=bs(t);let l;try{l=e(...o)}finally{bs(i),n._d&&Wn(1)}return l};return n._n=!0,n._c=!0,n._d=!0,n}function et(e,t){if(Oe===null)return e;const s=Rs(Oe),n=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[i,l,r,u=ue]=t[o];i&&(ne(i)&&(i={mounted:i,updated:i}),i.deep&&Qe(l),n.push({dir:i,instance:s,value:l,oldValue:void 0,arg:r,modifiers:u}))}return e}function bt(e,t,s,n){const o=e.dirs,i=t&&t.dirs;for(let l=0;l<o.length;l++){const r=o[l];i&&(r.oldValue=i[l].value);let u=r.dir[n];u&&(st(),Ge(u,s,8,[e.el,r,e,t]),nt())}}const gl=Symbol("_vte"),yl=e=>e.__isTeleport;function xn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,xn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Bo(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Ss(e,t,s,n,o=!1){if(te(e)){e.forEach((w,E)=>Ss(w,t&&(te(t)?t[E]:t),s,n,o));return}if(Wt(n)&&!o){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Ss(e,t,s,n.component.subTree);return}const i=n.shapeFlag&4?Rs(n.component):n.el,l=o?null:i,{i:r,r:u}=e,f=t&&t.r,d=r.refs===ue?r.refs={}:r.refs,m=r.setupState,S=le(m),T=m===ue?()=>!1:w=>ae(S,w);if(f!=null&&f!==u&&(ve(f)?(d[f]=null,T(f)&&(m[f]=null)):_e(f)&&(f.value=null)),ne(u))ns(u,r,12,[l,d]);else{const w=ve(u),E=_e(u);if(w||E){const Y=()=>{if(e.f){const D=w?T(u)?m[u]:d[u]:u.value;o?te(D)&&fn(D,i):te(D)?D.includes(i)||D.push(i):w?(d[u]=[i],T(u)&&(m[u]=d[u])):(u.value=[i],e.k&&(d[e.k]=u.value))}else w?(d[u]=l,T(u)&&(m[u]=l)):E&&(u.value=l,e.k&&(d[e.k]=l))};l?(Y.id=-1,Pe(Y,s)):Y()}}}Cs().requestIdleCallback;Cs().cancelIdleCallback;const Wt=e=>!!e.type.__asyncLoader,Go=e=>e.type.__isKeepAlive;function bl(e,t){Yo(e,"a",t)}function Sl(e,t){Yo(e,"da",t)}function Yo(e,t,s=$e){const n=e.__wdc||(e.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Ps(t,n,s),s){let o=s.parent;for(;o&&o.parent;)Go(o.parent.vnode)&&wl(n,t,s,o),o=o.parent}}function wl(e,t,s,n){const o=Ps(t,e,n,!0);$n(()=>{fn(n[t],o)},s)}function Ps(e,t,s=$e,n=!1){if(s){const o=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...l)=>{st();const r=os(s),u=Ge(t,s,e,l);return r(),nt(),u});return n?o.unshift(i):o.push(i),i}}const ot=e=>(t,s=$e)=>{(!es||e==="sp")&&Ps(e,(...n)=>t(...n),s)},xl=ot("bm"),It=ot("m"),$l=ot("bu"),kl=ot("u"),Il=ot("bum"),$n=ot("um"),Cl=ot("sp"),El=ot("rtg"),Ml=ot("rtc");function Tl(e,t=$e){Ps("ec",e,t)}const Ll=Symbol.for("v-ndc");function xe(e,t,s,n){let o;const i=s,l=te(e);if(l||ve(e)){const r=l&&ft(e);let u=!1,f=!1;r&&(u=!De(e),f=_t(e),e=Ms(e)),o=new Array(e.length);for(let d=0,m=e.length;d<m;d++)o[d]=t(u?f?vs(ye(e[d])):ye(e[d]):e[d],d,void 0,i)}else if(typeof e=="number"){o=new Array(e);for(let r=0;r<e;r++)o[r]=t(r+1,r,void 0,i)}else if(pe(e))if(e[Symbol.iterator])o=Array.from(e,(r,u)=>t(r,u,void 0,i));else{const r=Object.keys(e);o=new Array(r.length);for(let u=0,f=r.length;u<f;u++){const d=r[u];o[u]=t(e[d],d,u,i)}}else o=[];return o}const tn=e=>e?vi(e)?Rs(e):tn(e.parent):null,Bt=Ce(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>tn(e.parent),$root:e=>tn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Jo(e),$forceUpdate:e=>e.f||(e.f=()=>{wn(e.update)}),$nextTick:e=>e.n||(e.n=mt.bind(e.proxy)),$watch:e=>Ql.bind(e)}),Ks=(e,t)=>e!==ue&&!e.__isScriptSetup&&ae(e,t),Pl={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:o,props:i,accessCache:l,type:r,appContext:u}=e;let f;if(t[0]!=="$"){const T=l[t];if(T!==void 0)switch(T){case 1:return n[t];case 2:return o[t];case 4:return s[t];case 3:return i[t]}else{if(Ks(n,t))return l[t]=1,n[t];if(o!==ue&&ae(o,t))return l[t]=2,o[t];if((f=e.propsOptions[0])&&ae(f,t))return l[t]=3,i[t];if(s!==ue&&ae(s,t))return l[t]=4,s[t];sn&&(l[t]=0)}}const d=Bt[t];let m,S;if(d)return t==="$attrs"&&we(e.attrs,"get",""),d(e);if((m=r.__cssModules)&&(m=m[t]))return m;if(s!==ue&&ae(s,t))return l[t]=4,s[t];if(S=u.config.globalProperties,ae(S,t))return S[t]},set({_:e},t,s){const{data:n,setupState:o,ctx:i}=e;return Ks(o,t)?(o[t]=s,!0):n!==ue&&ae(n,t)?(n[t]=s,!0):ae(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:o,propsOptions:i}},l){let r;return!!s[l]||e!==ue&&ae(e,l)||Ks(t,l)||(r=i[0])&&ae(r,l)||ae(n,l)||ae(Bt,l)||ae(o.config.globalProperties,l)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ae(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function jn(e){return te(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let sn=!0;function Ol(e){const t=Jo(e),s=e.proxy,n=e.ctx;sn=!1,t.beforeCreate&&Nn(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:l,watch:r,provide:u,inject:f,created:d,beforeMount:m,mounted:S,beforeUpdate:T,updated:w,activated:E,deactivated:Y,beforeDestroy:D,beforeUnmount:B,destroyed:H,unmounted:k,render:A,renderTracked:Z,renderTriggered:b,errorCaptured:y,serverPrefetch:q,expose:K,inheritAttrs:R,components:N,directives:X,filters:I}=t;if(f&&Al(f,n,null),l)for(const P in l){const ee=l[P];ne(ee)&&(n[P]=ee.bind(s))}if(o){const P=o.call(s,s);pe(P)&&(e.data=Ts(P))}if(sn=!0,i)for(const P in i){const ee=i[P],ge=ne(ee)?ee.bind(s,s):ne(ee.get)?ee.get.bind(s,s):We,Fe=!ne(ee)&&ne(ee.set)?ee.set.bind(s):We,Re=he({get:ge,set:Fe});Object.defineProperty(n,P,{enumerable:!0,configurable:!0,get:()=>Re.value,set:Ee=>Re.value=Ee})}if(r)for(const P in r)Zo(r[P],n,s,P);if(u){const P=ne(u)?u.call(s):u;Reflect.ownKeys(P).forEach(ee=>{Lt(ee,P[ee])})}d&&Nn(d,e,"c");function F(P,ee){te(ee)?ee.forEach(ge=>P(ge.bind(s))):ee&&P(ee.bind(s))}if(F(xl,m),F(It,S),F($l,T),F(kl,w),F(bl,E),F(Sl,Y),F(Tl,y),F(Ml,Z),F(El,b),F(Il,B),F($n,k),F(Cl,q),te(K))if(K.length){const P=e.exposed||(e.exposed={});K.forEach(ee=>{Object.defineProperty(P,ee,{get:()=>s[ee],set:ge=>s[ee]=ge})})}else e.exposed||(e.exposed={});A&&e.render===We&&(e.render=A),R!=null&&(e.inheritAttrs=R),N&&(e.components=N),X&&(e.directives=X),q&&Bo(e)}function Al(e,t,s=We){te(e)&&(e=nn(e));for(const n in e){const o=e[n];let i;pe(o)?"default"in o?i=be(o.from||n,o.default,!0):i=be(o.from||n):i=be(o),_e(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:l=>i.value=l}):t[n]=i}}function Nn(e,t,s){Ge(te(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Zo(e,t,s,n){let o=n.includes(".")?ui(s,n):()=>s[n];if(ve(e)){const i=t[e];ne(i)&&pt(o,i)}else if(ne(e))pt(o,e.bind(s));else if(pe(e))if(te(e))e.forEach(i=>Zo(i,t,s,n));else{const i=ne(e.handler)?e.handler.bind(s):t[e.handler];ne(i)&&pt(o,i,e)}}function Jo(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:l}}=e.appContext,r=i.get(t);let u;return r?u=r:!o.length&&!s&&!n?u=t:(u={},o.length&&o.forEach(f=>ws(u,f,l,!0)),ws(u,t,l)),pe(t)&&i.set(t,u),u}function ws(e,t,s,n=!1){const{mixins:o,extends:i}=t;i&&ws(e,i,s,!0),o&&o.forEach(l=>ws(e,l,s,!0));for(const l in t)if(!(n&&l==="expose")){const r=Rl[l]||s&&s[l];e[l]=r?r(e[l],t[l]):t[l]}return e}const Rl={data:Vn,props:Hn,emits:Hn,methods:Ut,computed:Ut,beforeCreate:ke,created:ke,beforeMount:ke,mounted:ke,beforeUpdate:ke,updated:ke,beforeDestroy:ke,beforeUnmount:ke,destroyed:ke,unmounted:ke,activated:ke,deactivated:ke,errorCaptured:ke,serverPrefetch:ke,components:Ut,directives:Ut,watch:Fl,provide:Vn,inject:Dl};function Vn(e,t){return t?e?function(){return Ce(ne(e)?e.call(this,this):e,ne(t)?t.call(this,this):t)}:t:e}function Dl(e,t){return Ut(nn(e),nn(t))}function nn(e){if(te(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function ke(e,t){return e?[...new Set([].concat(e,t))]:t}function Ut(e,t){return e?Ce(Object.create(null),e,t):t}function Hn(e,t){return e?te(e)&&te(t)?[...new Set([...e,...t])]:Ce(Object.create(null),jn(e),jn(t??{})):t}function Fl(e,t){if(!e)return t;if(!t)return e;const s=Ce(Object.create(null),e);for(const n in t)s[n]=ke(e[n],t[n]);return s}function Xo(){return{app:null,config:{isNativeTag:$i,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jl=0;function Nl(e,t){return function(n,o=null){ne(n)||(n=Ce({},n)),o!=null&&!pe(o)&&(o=null);const i=Xo(),l=new WeakSet,r=[];let u=!1;const f=i.app={_uid:jl++,_component:n,_props:o,_container:null,_context:i,_instance:null,version:yr,get config(){return i.config},set config(d){},use(d,...m){return l.has(d)||(d&&ne(d.install)?(l.add(d),d.install(f,...m)):ne(d)&&(l.add(d),d(f,...m))),f},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),f},component(d,m){return m?(i.components[d]=m,f):i.components[d]},directive(d,m){return m?(i.directives[d]=m,f):i.directives[d]},mount(d,m,S){if(!u){const T=f._ceVNode||me(n,o);return T.appContext=i,S===!0?S="svg":S===!1&&(S=void 0),e(T,d,S),u=!0,f._container=d,d.__vue_app__=f,Rs(T.component)}},onUnmount(d){r.push(d)},unmount(){u&&(Ge(r,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(d,m){return i.provides[d]=m,f},runWithContext(d){const m=$t;$t=f;try{return d()}finally{$t=m}}};return f}}let $t=null;function Lt(e,t){if($e){let s=$e.provides;const n=$e.parent&&$e.parent.provides;n===s&&(s=$e.provides=Object.create(n)),s[e]=t}}function be(e,t,s=!1){const n=$e||Oe;if(n||$t){let o=$t?$t._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return s&&ne(t)?t.call(n&&n.proxy):t}}function Vl(){return!!($e||Oe||$t)}const Qo={},ei=()=>Object.create(Qo),ti=e=>Object.getPrototypeOf(e)===Qo;function Hl(e,t,s,n=!1){const o={},i=ei();e.propsDefaults=Object.create(null),si(e,t,o,i);for(const l in e.propsOptions[0])l in o||(o[l]=void 0);s?e.props=n?o:nl(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function Ul(e,t,s,n){const{props:o,attrs:i,vnode:{patchFlag:l}}=e,r=le(o),[u]=e.propsOptions;let f=!1;if((n||l>0)&&!(l&16)){if(l&8){const d=e.vnode.dynamicProps;for(let m=0;m<d.length;m++){let S=d[m];if(Os(e.emitsOptions,S))continue;const T=t[S];if(u)if(ae(i,S))T!==i[S]&&(i[S]=T,f=!0);else{const w=ht(S);o[w]=on(u,r,w,T,e,!1)}else T!==i[S]&&(i[S]=T,f=!0)}}}else{si(e,t,o,i)&&(f=!0);let d;for(const m in r)(!t||!ae(t,m)&&((d=gt(m))===m||!ae(t,d)))&&(u?s&&(s[m]!==void 0||s[d]!==void 0)&&(o[m]=on(u,r,m,void 0,e,!0)):delete o[m]);if(i!==r)for(const m in i)(!t||!ae(t,m))&&(delete i[m],f=!0)}f&&Xe(e.attrs,"set","")}function si(e,t,s,n){const[o,i]=e.propsOptions;let l=!1,r;if(t)for(let u in t){if(qt(u))continue;const f=t[u];let d;o&&ae(o,d=ht(u))?!i||!i.includes(d)?s[d]=f:(r||(r={}))[d]=f:Os(e.emitsOptions,u)||(!(u in n)||f!==n[u])&&(n[u]=f,l=!0)}if(i){const u=le(s),f=r||ue;for(let d=0;d<i.length;d++){const m=i[d];s[m]=on(o,u,m,f[m],e,!ae(f,m))}}return l}function on(e,t,s,n,o,i){const l=e[s];if(l!=null){const r=ae(l,"default");if(r&&n===void 0){const u=l.default;if(l.type!==Function&&!l.skipFactory&&ne(u)){const{propsDefaults:f}=o;if(s in f)n=f[s];else{const d=os(o);n=f[s]=u.call(null,t),d()}}else n=u;o.ce&&o.ce._setProp(s,n)}l[0]&&(i&&!r?n=!1:l[1]&&(n===""||n===gt(s))&&(n=!0))}return n}const ql=new WeakMap;function ni(e,t,s=!1){const n=s?ql:t.propsCache,o=n.get(e);if(o)return o;const i=e.props,l={},r=[];let u=!1;if(!ne(e)){const d=m=>{u=!0;const[S,T]=ni(m,t,!0);Ce(l,S),T&&r.push(...T)};!s&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!i&&!u)return pe(e)&&n.set(e,Pt),Pt;if(te(i))for(let d=0;d<i.length;d++){const m=ht(i[d]);Un(m)&&(l[m]=ue)}else if(i)for(const d in i){const m=ht(d);if(Un(m)){const S=i[d],T=l[m]=te(S)||ne(S)?{type:S}:Ce({},S),w=T.type;let E=!1,Y=!0;if(te(w))for(let D=0;D<w.length;++D){const B=w[D],H=ne(B)&&B.name;if(H==="Boolean"){E=!0;break}else H==="String"&&(Y=!1)}else E=ne(w)&&w.name==="Boolean";T[0]=E,T[1]=Y,(E||ae(T,"default"))&&r.push(m)}}const f=[l,r];return pe(e)&&n.set(e,f),f}function Un(e){return e[0]!=="$"&&!qt(e)}const kn=e=>e[0]==="_"||e==="$stable",In=e=>te(e)?e.map(Ke):[Ke(e)],zl=(e,t,s)=>{if(t._n)return t;const n=vl((...o)=>In(t(...o)),s);return n._c=!1,n},oi=(e,t,s)=>{const n=e._ctx;for(const o in e){if(kn(o))continue;const i=e[o];if(ne(i))t[o]=zl(o,i,n);else if(i!=null){const l=In(i);t[o]=()=>l}}},ii=(e,t)=>{const s=In(t);e.slots.default=()=>s},li=(e,t,s)=>{for(const n in t)(s||!kn(n))&&(e[n]=t[n])},Kl=(e,t,s)=>{const n=e.slots=ei();if(e.vnode.shapeFlag&32){const o=t._;o?(li(n,t,s),s&&yo(n,"_",o,!0)):oi(t,n)}else t&&ii(e,t)},Wl=(e,t,s)=>{const{vnode:n,slots:o}=e;let i=!0,l=ue;if(n.shapeFlag&32){const r=t._;r?s&&r===1?i=!1:li(o,t,s):(i=!t.$stable,oi(t,o)),l=t}else t&&(ii(e,t),l={default:1});if(i)for(const r in o)!kn(r)&&l[r]==null&&delete o[r]},Pe=lr;function Bl(e){return Gl(e)}function Gl(e,t){const s=Cs();s.__VUE__=!0;const{insert:n,remove:o,patchProp:i,createElement:l,createText:r,createComment:u,setText:f,setElementText:d,parentNode:m,nextSibling:S,setScopeId:T=We,insertStaticContent:w}=e,E=(p,a,h,v=null,g=null,_=null,C=void 0,x=null,L=!!a.dynamicChildren)=>{if(p===a)return;p&&!Ht(p,a)&&(v=yt(p),Ee(p,g,_,!0),p=null),a.patchFlag===-2&&(L=!1,a.dynamicChildren=null);const{type:M,ref:Q,shapeFlag:V}=a;switch(M){case As:Y(p,a,h,v);break;case vt:D(p,a,h,v);break;case Bs:p==null&&B(a,h,v,C);break;case fe:N(p,a,h,v,g,_,C,x,L);break;default:V&1?A(p,a,h,v,g,_,C,x,L):V&6?X(p,a,h,v,g,_,C,x,L):(V&64||V&128)&&M.process(p,a,h,v,g,_,C,x,L,lt)}Q!=null&&g&&Ss(Q,p&&p.ref,_,a||p,!a)},Y=(p,a,h,v)=>{if(p==null)n(a.el=r(a.children),h,v);else{const g=a.el=p.el;a.children!==p.children&&f(g,a.children)}},D=(p,a,h,v)=>{p==null?n(a.el=u(a.children||""),h,v):a.el=p.el},B=(p,a,h,v)=>{[p.el,p.anchor]=w(p.children,a,h,v,p.el,p.anchor)},H=({el:p,anchor:a},h,v)=>{let g;for(;p&&p!==a;)g=S(p),n(p,h,v),p=g;n(a,h,v)},k=({el:p,anchor:a})=>{let h;for(;p&&p!==a;)h=S(p),o(p),p=h;o(a)},A=(p,a,h,v,g,_,C,x,L)=>{a.type==="svg"?C="svg":a.type==="math"&&(C="mathml"),p==null?Z(a,h,v,g,_,C,x,L):q(p,a,g,_,C,x,L)},Z=(p,a,h,v,g,_,C,x)=>{let L,M;const{props:Q,shapeFlag:V,transition:J,dirs:W}=p;if(L=p.el=l(p.type,_,Q&&Q.is,Q),V&8?d(L,p.children):V&16&&y(p.children,L,null,v,g,Ws(p,_),C,x),W&&bt(p,null,v,"created"),b(L,p,p.scopeId,C,v),Q){for(const ce in Q)ce!=="value"&&!qt(ce)&&i(L,ce,null,Q[ce],_,v);"value"in Q&&i(L,"value",null,Q.value,_),(M=Q.onVnodeBeforeMount)&&qe(M,v,p)}W&&bt(p,null,v,"beforeMount");const se=Yl(g,J);se&&J.beforeEnter(L),n(L,a,h),((M=Q&&Q.onVnodeMounted)||se||W)&&Pe(()=>{M&&qe(M,v,p),se&&J.enter(L),W&&bt(p,null,v,"mounted")},g)},b=(p,a,h,v,g)=>{if(h&&T(p,h),v)for(let _=0;_<v.length;_++)T(p,v[_]);if(g){let _=g.subTree;if(a===_||fi(_.type)&&(_.ssContent===a||_.ssFallback===a)){const C=g.vnode;b(p,C,C.scopeId,C.slotScopeIds,g.parent)}}},y=(p,a,h,v,g,_,C,x,L=0)=>{for(let M=L;M<p.length;M++){const Q=p[M]=x?at(p[M]):Ke(p[M]);E(null,Q,a,h,v,g,_,C,x)}},q=(p,a,h,v,g,_,C)=>{const x=a.el=p.el;let{patchFlag:L,dynamicChildren:M,dirs:Q}=a;L|=p.patchFlag&16;const V=p.props||ue,J=a.props||ue;let W;if(h&&St(h,!1),(W=J.onVnodeBeforeUpdate)&&qe(W,h,a,p),Q&&bt(a,p,h,"beforeUpdate"),h&&St(h,!0),(V.innerHTML&&J.innerHTML==null||V.textContent&&J.textContent==null)&&d(x,""),M?K(p.dynamicChildren,M,x,h,v,Ws(a,g),_):C||ee(p,a,x,null,h,v,Ws(a,g),_,!1),L>0){if(L&16)R(x,V,J,h,g);else if(L&2&&V.class!==J.class&&i(x,"class",null,J.class,g),L&4&&i(x,"style",V.style,J.style,g),L&8){const se=a.dynamicProps;for(let ce=0;ce<se.length;ce++){const ie=se[ce],Te=V[ie],Me=J[ie];(Me!==Te||ie==="value")&&i(x,ie,Te,Me,g,h)}}L&1&&p.children!==a.children&&d(x,a.children)}else!C&&M==null&&R(x,V,J,h,g);((W=J.onVnodeUpdated)||Q)&&Pe(()=>{W&&qe(W,h,a,p),Q&&bt(a,p,h,"updated")},v)},K=(p,a,h,v,g,_,C)=>{for(let x=0;x<a.length;x++){const L=p[x],M=a[x],Q=L.el&&(L.type===fe||!Ht(L,M)||L.shapeFlag&198)?m(L.el):h;E(L,M,Q,null,v,g,_,C,!0)}},R=(p,a,h,v,g)=>{if(a!==h){if(a!==ue)for(const _ in a)!qt(_)&&!(_ in h)&&i(p,_,a[_],null,g,v);for(const _ in h){if(qt(_))continue;const C=h[_],x=a[_];C!==x&&_!=="value"&&i(p,_,x,C,g,v)}"value"in h&&i(p,"value",a.value,h.value,g)}},N=(p,a,h,v,g,_,C,x,L)=>{const M=a.el=p?p.el:r(""),Q=a.anchor=p?p.anchor:r("");let{patchFlag:V,dynamicChildren:J,slotScopeIds:W}=a;W&&(x=x?x.concat(W):W),p==null?(n(M,h,v),n(Q,h,v),y(a.children||[],h,Q,g,_,C,x,L)):V>0&&V&64&&J&&p.dynamicChildren?(K(p.dynamicChildren,J,h,g,_,C,x),(a.key!=null||g&&a===g.subTree)&&ri(p,a,!0)):ee(p,a,h,Q,g,_,C,x,L)},X=(p,a,h,v,g,_,C,x,L)=>{a.slotScopeIds=x,p==null?a.shapeFlag&512?g.ctx.activate(a,h,v,C,L):I(a,h,v,g,_,C,L):z(p,a,L)},I=(p,a,h,v,g,_,C)=>{const x=p.component=pr(p,v,g);if(Go(p)&&(x.ctx.renderer=lt),hr(x,!1,C),x.asyncDep){if(g&&g.registerDep(x,F,C),!p.el){const L=x.subTree=me(vt);D(null,L,a,h)}}else F(x,p,a,h,g,_,C)},z=(p,a,h)=>{const v=a.component=p.component;if(or(p,a,h))if(v.asyncDep&&!v.asyncResolved){P(v,a,h);return}else v.next=a,v.update();else a.el=p.el,v.vnode=a},F=(p,a,h,v,g,_,C)=>{const x=()=>{if(p.isMounted){let{next:V,bu:J,u:W,parent:se,vnode:ce}=p;{const He=ci(p);if(He){V&&(V.el=ce.el,P(p,V,C)),He.asyncDep.then(()=>{p.isUnmounted||x()});return}}let ie=V,Te;St(p,!1),V?(V.el=ce.el,P(p,V,C)):V=ce,J&&ds(J),(Te=V.props&&V.props.onVnodeBeforeUpdate)&&qe(Te,se,V,ce),St(p,!0);const Me=zn(p),Ve=p.subTree;p.subTree=Me,E(Ve,Me,m(Ve.el),yt(Ve),p,g,_),V.el=Me.el,ie===null&&ir(p,Me.el),W&&Pe(W,g),(Te=V.props&&V.props.onVnodeUpdated)&&Pe(()=>qe(Te,se,V,ce),g)}else{let V;const{el:J,props:W}=a,{bm:se,m:ce,parent:ie,root:Te,type:Me}=p,Ve=Wt(a);St(p,!1),se&&ds(se),!Ve&&(V=W&&W.onVnodeBeforeMount)&&qe(V,ie,a),St(p,!0);{Te.ce&&Te.ce._injectChildStyle(Me);const He=p.subTree=zn(p);E(null,He,h,v,p,g,_),a.el=He.el}if(ce&&Pe(ce,g),!Ve&&(V=W&&W.onVnodeMounted)){const He=a;Pe(()=>qe(V,ie,He),g)}(a.shapeFlag&256||ie&&Wt(ie.vnode)&&ie.vnode.shapeFlag&256)&&p.a&&Pe(p.a,g),p.isMounted=!0,a=h=v=null}};p.scope.on();const L=p.effect=new Io(x);p.scope.off();const M=p.update=L.run.bind(L),Q=p.job=L.runIfDirty.bind(L);Q.i=p,Q.id=p.uid,L.scheduler=()=>wn(Q),St(p,!0),M()},P=(p,a,h)=>{a.component=p;const v=p.vnode.props;p.vnode=a,p.next=null,Ul(p,a.props,v,h),Wl(p,a.children,h),st(),Fn(p),nt()},ee=(p,a,h,v,g,_,C,x,L=!1)=>{const M=p&&p.children,Q=p?p.shapeFlag:0,V=a.children,{patchFlag:J,shapeFlag:W}=a;if(J>0){if(J&128){Fe(M,V,h,v,g,_,C,x,L);return}else if(J&256){ge(M,V,h,v,g,_,C,x,L);return}}W&8?(Q&16&&it(M,g,_),V!==M&&d(h,V)):Q&16?W&16?Fe(M,V,h,v,g,_,C,x,L):it(M,g,_,!0):(Q&8&&d(h,""),W&16&&y(V,h,v,g,_,C,x,L))},ge=(p,a,h,v,g,_,C,x,L)=>{p=p||Pt,a=a||Pt;const M=p.length,Q=a.length,V=Math.min(M,Q);let J;for(J=0;J<V;J++){const W=a[J]=L?at(a[J]):Ke(a[J]);E(p[J],W,h,null,g,_,C,x,L)}M>Q?it(p,g,_,!0,!1,V):y(a,h,v,g,_,C,x,L,V)},Fe=(p,a,h,v,g,_,C,x,L)=>{let M=0;const Q=a.length;let V=p.length-1,J=Q-1;for(;M<=V&&M<=J;){const W=p[M],se=a[M]=L?at(a[M]):Ke(a[M]);if(Ht(W,se))E(W,se,h,null,g,_,C,x,L);else break;M++}for(;M<=V&&M<=J;){const W=p[V],se=a[J]=L?at(a[J]):Ke(a[J]);if(Ht(W,se))E(W,se,h,null,g,_,C,x,L);else break;V--,J--}if(M>V){if(M<=J){const W=J+1,se=W<Q?a[W].el:v;for(;M<=J;)E(null,a[M]=L?at(a[M]):Ke(a[M]),h,se,g,_,C,x,L),M++}}else if(M>J)for(;M<=V;)Ee(p[M],g,_,!0),M++;else{const W=M,se=M,ce=new Map;for(M=se;M<=J;M++){const Le=a[M]=L?at(a[M]):Ke(a[M]);Le.key!=null&&ce.set(Le.key,M)}let ie,Te=0;const Me=J-se+1;let Ve=!1,He=0;const Nt=new Array(Me);for(M=0;M<Me;M++)Nt[M]=0;for(M=W;M<=V;M++){const Le=p[M];if(Te>=Me){Ee(Le,g,_,!0);continue}let Ue;if(Le.key!=null)Ue=ce.get(Le.key);else for(ie=se;ie<=J;ie++)if(Nt[ie-se]===0&&Ht(Le,a[ie])){Ue=ie;break}Ue===void 0?Ee(Le,g,_,!0):(Nt[Ue-se]=M+1,Ue>=He?He=Ue:Ve=!0,E(Le,a[Ue],h,null,g,_,C,x,L),Te++)}const Ln=Ve?Zl(Nt):Pt;for(ie=Ln.length-1,M=Me-1;M>=0;M--){const Le=se+M,Ue=a[Le],Pn=Le+1<Q?a[Le+1].el:v;Nt[M]===0?E(null,Ue,h,Pn,g,_,C,x,L):Ve&&(ie<0||M!==Ln[ie]?Re(Ue,h,Pn,2):ie--)}}},Re=(p,a,h,v,g=null)=>{const{el:_,type:C,transition:x,children:L,shapeFlag:M}=p;if(M&6){Re(p.component.subTree,a,h,v);return}if(M&128){p.suspense.move(a,h,v);return}if(M&64){C.move(p,a,h,lt);return}if(C===fe){n(_,a,h);for(let V=0;V<L.length;V++)Re(L[V],a,h,v);n(p.anchor,a,h);return}if(C===Bs){H(p,a,h);return}if(v!==2&&M&1&&x)if(v===0)x.beforeEnter(_),n(_,a,h),Pe(()=>x.enter(_),g);else{const{leave:V,delayLeave:J,afterLeave:W}=x,se=()=>{p.ctx.isUnmounted?o(_):n(_,a,h)},ce=()=>{V(_,()=>{se(),W&&W()})};J?J(_,se,ce):ce()}else n(_,a,h)},Ee=(p,a,h,v=!1,g=!1)=>{const{type:_,props:C,ref:x,children:L,dynamicChildren:M,shapeFlag:Q,patchFlag:V,dirs:J,cacheIndex:W}=p;if(V===-2&&(g=!1),x!=null&&(st(),Ss(x,null,h,p,!0),nt()),W!=null&&(a.renderCache[W]=void 0),Q&256){a.ctx.deactivate(p);return}const se=Q&1&&J,ce=!Wt(p);let ie;if(ce&&(ie=C&&C.onVnodeBeforeUnmount)&&qe(ie,a,p),Q&6)Ns(p.component,h,v);else{if(Q&128){p.suspense.unmount(h,v);return}se&&bt(p,null,a,"beforeUnmount"),Q&64?p.type.remove(p,a,h,lt,v):M&&!M.hasOnce&&(_!==fe||V>0&&V&64)?it(M,a,h,!1,!0):(_===fe&&V&384||!g&&Q&16)&&it(L,a,h),v&&ls(p)}(ce&&(ie=C&&C.onVnodeUnmounted)||se)&&Pe(()=>{ie&&qe(ie,a,p),se&&bt(p,null,a,"unmounted")},h)},ls=p=>{const{type:a,el:h,anchor:v,transition:g}=p;if(a===fe){js(h,v);return}if(a===Bs){k(p);return}const _=()=>{o(h),g&&!g.persisted&&g.afterLeave&&g.afterLeave()};if(p.shapeFlag&1&&g&&!g.persisted){const{leave:C,delayLeave:x}=g,L=()=>C(h,_);x?x(p.el,_,L):L()}else _()},js=(p,a)=>{let h;for(;p!==a;)h=S(p),o(p),p=h;o(a)},Ns=(p,a,h)=>{const{bum:v,scope:g,job:_,subTree:C,um:x,m:L,a:M,parent:Q,slots:{__:V}}=p;qn(L),qn(M),v&&ds(v),Q&&te(V)&&V.forEach(J=>{Q.renderCache[J]=void 0}),g.stop(),_&&(_.flags|=8,Ee(C,p,a,h)),x&&Pe(x,a),Pe(()=>{p.isUnmounted=!0},a),a&&a.pendingBranch&&!a.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===a.pendingId&&(a.deps--,a.deps===0&&a.resolve())},it=(p,a,h,v=!1,g=!1,_=0)=>{for(let C=_;C<p.length;C++)Ee(p[C],a,h,v,g)},yt=p=>{if(p.shapeFlag&6)return yt(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const a=S(p.anchor||p.el),h=a&&a[gl];return h?S(h):a};let je=!1;const Ct=(p,a,h)=>{p==null?a._vnode&&Ee(a._vnode,null,null,!0):E(a._vnode||null,p,a,null,null,null,h),a._vnode=p,je||(je=!0,Fn(),zo(),je=!1)},lt={p:E,um:Ee,m:Re,r:ls,mt:I,mc:y,pc:ee,pbc:K,n:yt,o:e};return{render:Ct,hydrate:void 0,createApp:Nl(Ct)}}function Ws({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function St({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Yl(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ri(e,t,s=!1){const n=e.children,o=t.children;if(te(n)&&te(o))for(let i=0;i<n.length;i++){const l=n[i];let r=o[i];r.shapeFlag&1&&!r.dynamicChildren&&((r.patchFlag<=0||r.patchFlag===32)&&(r=o[i]=at(o[i]),r.el=l.el),!s&&r.patchFlag!==-2&&ri(l,r)),r.type===As&&(r.el=l.el),r.type===vt&&!r.el&&(r.el=l.el)}}function Zl(e){const t=e.slice(),s=[0];let n,o,i,l,r;const u=e.length;for(n=0;n<u;n++){const f=e[n];if(f!==0){if(o=s[s.length-1],e[o]<f){t[n]=o,s.push(n);continue}for(i=0,l=s.length-1;i<l;)r=i+l>>1,e[s[r]]<f?i=r+1:l=r;f<e[s[i]]&&(i>0&&(t[n]=s[i-1]),s[i]=n)}}for(i=s.length,l=s[i-1];i-- >0;)s[i]=l,l=t[l];return s}function ci(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ci(t)}function qn(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Jl=Symbol.for("v-scx"),Xl=()=>be(Jl);function pt(e,t,s){return ai(e,t,s)}function ai(e,t,s=ue){const{immediate:n,deep:o,flush:i,once:l}=s,r=Ce({},s),u=t&&n||!t&&i!=="post";let f;if(es){if(i==="sync"){const T=Xl();f=T.__watcherHandles||(T.__watcherHandles=[])}else if(!u){const T=()=>{};return T.stop=We,T.resume=We,T.pause=We,T}}const d=$e;r.call=(T,w,E)=>Ge(T,d,w,E);let m=!1;i==="post"?r.scheduler=T=>{Pe(T,d&&d.suspense)}:i!=="sync"&&(m=!0,r.scheduler=(T,w)=>{w?T():wn(T)}),r.augmentJob=T=>{t&&(T.flags|=4),m&&(T.flags|=2,d&&(T.id=d.uid,T.i=d))};const S=pl(e,t,r);return es&&(f?f.push(S):u&&S()),S}function Ql(e,t,s){const n=this.proxy,o=ve(e)?e.includes(".")?ui(n,e):()=>n[e]:e.bind(n,n);let i;ne(t)?i=t:(i=t.handler,s=t);const l=os(this),r=ai(o,i.bind(n),s);return l(),r}function ui(e,t){const s=t.split(".");return()=>{let n=e;for(let o=0;o<s.length&&n;o++)n=n[s[o]];return n}}const er=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ht(t)}Modifiers`]||e[`${gt(t)}Modifiers`];function tr(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||ue;let o=s;const i=t.startsWith("update:"),l=i&&er(n,t.slice(7));l&&(l.trim&&(o=s.map(d=>ve(d)?d.trim():d)),l.number&&(o=s.map(_s)));let r,u=n[r=Vs(t)]||n[r=Vs(ht(t))];!u&&i&&(u=n[r=Vs(gt(t))]),u&&Ge(u,e,6,o);const f=n[r+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[r])return;e.emitted[r]=!0,Ge(f,e,6,o)}}function di(e,t,s=!1){const n=t.emitsCache,o=n.get(e);if(o!==void 0)return o;const i=e.emits;let l={},r=!1;if(!ne(e)){const u=f=>{const d=di(f,t,!0);d&&(r=!0,Ce(l,d))};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!i&&!r?(pe(e)&&n.set(e,null),null):(te(i)?i.forEach(u=>l[u]=null):Ce(l,i),pe(e)&&n.set(e,l),l)}function Os(e,t){return!e||!$s(t)?!1:(t=t.slice(2).replace(/Once$/,""),ae(e,t[0].toLowerCase()+t.slice(1))||ae(e,gt(t))||ae(e,t))}function zn(e){const{type:t,vnode:s,proxy:n,withProxy:o,propsOptions:[i],slots:l,attrs:r,emit:u,render:f,renderCache:d,props:m,data:S,setupState:T,ctx:w,inheritAttrs:E}=e,Y=bs(e);let D,B;try{if(s.shapeFlag&4){const k=o||n,A=k;D=Ke(f.call(A,k,d,m,T,S,w)),B=r}else{const k=t;D=Ke(k.length>1?k(m,{attrs:r,slots:l,emit:u}):k(m,null)),B=t.props?r:sr(r)}}catch(k){Gt.length=0,Ls(k,e,1),D=me(vt)}let H=D;if(B&&E!==!1){const k=Object.keys(B),{shapeFlag:A}=H;k.length&&A&7&&(i&&k.some(dn)&&(B=nr(B,i)),H=Dt(H,B,!1,!0))}return s.dirs&&(H=Dt(H,null,!1,!0),H.dirs=H.dirs?H.dirs.concat(s.dirs):s.dirs),s.transition&&xn(H,s.transition),D=H,bs(Y),D}const sr=e=>{let t;for(const s in e)(s==="class"||s==="style"||$s(s))&&((t||(t={}))[s]=e[s]);return t},nr=(e,t)=>{const s={};for(const n in e)(!dn(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function or(e,t,s){const{props:n,children:o,component:i}=e,{props:l,children:r,patchFlag:u}=t,f=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&u>=0){if(u&1024)return!0;if(u&16)return n?Kn(n,l,f):!!l;if(u&8){const d=t.dynamicProps;for(let m=0;m<d.length;m++){const S=d[m];if(l[S]!==n[S]&&!Os(f,S))return!0}}}else return(o||r)&&(!r||!r.$stable)?!0:n===l?!1:n?l?Kn(n,l,f):!0:!!l;return!1}function Kn(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let o=0;o<n.length;o++){const i=n[o];if(t[i]!==e[i]&&!Os(s,i))return!0}return!1}function ir({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const fi=e=>e.__isSuspense;function lr(e,t){t&&t.pendingBranch?te(e)?t.effects.push(...e):t.effects.push(e):ml(e)}const fe=Symbol.for("v-fgt"),As=Symbol.for("v-txt"),vt=Symbol.for("v-cmt"),Bs=Symbol.for("v-stc"),Gt=[];let Ae=null;function O(e=!1){Gt.push(Ae=e?null:[])}function rr(){Gt.pop(),Ae=Gt[Gt.length-1]||null}let Qt=1;function Wn(e,t=!1){Qt+=e,e<0&&Ae&&t&&(Ae.hasOnce=!0)}function pi(e){return e.dynamicChildren=Qt>0?Ae||Pt:null,rr(),Qt>0&&Ae&&Ae.push(e),e}function j(e,t,s,n,o,i){return pi(c(e,t,s,n,o,i,!0))}function hi(e,t,s,n,o){return pi(me(e,t,s,n,o,!0))}function _i(e){return e?e.__v_isVNode===!0:!1}function Ht(e,t){return e.type===t.type&&e.key===t.key}const mi=({key:e})=>e??null,fs=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?ve(e)||_e(e)||ne(e)?{i:Oe,r:e,k:t,f:!!s}:e:null);function c(e,t=null,s=null,n=0,o=null,i=e===fe?0:1,l=!1,r=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&mi(t),ref:t&&fs(t),scopeId:Wo,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Oe};return r?(Cn(u,s),i&128&&e.normalize(u)):s&&(u.shapeFlag|=ve(s)?8:16),Qt>0&&!l&&Ae&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&Ae.push(u),u}const me=cr;function cr(e,t=null,s=null,n=0,o=null,i=!1){if((!e||e===Ll)&&(e=vt),_i(e)){const r=Dt(e,t,!0);return s&&Cn(r,s),Qt>0&&!i&&Ae&&(r.shapeFlag&6?Ae[Ae.indexOf(e)]=r:Ae.push(r)),r.patchFlag=-2,r}if(gr(e)&&(e=e.__vccOpts),t){t=ar(t);let{class:r,style:u}=t;r&&!ve(r)&&(t.class=kt(r)),pe(u)&&(bn(u)&&!te(u)&&(u=Ce({},u)),t.style=Es(u))}const l=ve(e)?1:fi(e)?128:yl(e)?64:pe(e)?4:ne(e)?2:0;return c(e,t,s,n,o,l,i,!0)}function ar(e){return e?bn(e)||ti(e)?Ce({},e):e:null}function Dt(e,t,s=!1,n=!1){const{props:o,ref:i,patchFlag:l,children:r,transition:u}=e,f=t?ur(o||{},t):o,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&mi(f),ref:t&&t.ref?s&&i?te(i)?i.concat(fs(t)):[i,fs(t)]:fs(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==fe?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Dt(e.ssContent),ssFallback:e.ssFallback&&Dt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&n&&xn(d,u.clone(d)),d}function re(e=" ",t=0){return me(As,null,e,t)}function oe(e="",t=!1){return t?(O(),hi(vt,null,e)):me(vt,null,e)}function Ke(e){return e==null||typeof e=="boolean"?me(vt):te(e)?me(fe,null,e.slice()):_i(e)?at(e):me(As,null,String(e))}function at(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Dt(e)}function Cn(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(te(t))s=16;else if(typeof t=="object")if(n&65){const o=t.default;o&&(o._c&&(o._d=!1),Cn(e,o()),o._c&&(o._d=!0));return}else{s=32;const o=t._;!o&&!ti(t)?t._ctx=Oe:o===3&&Oe&&(Oe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ne(t)?(t={default:t,_ctx:Oe},s=32):(t=String(t),n&64?(s=16,t=[re(t)]):s=8);e.children=t,e.shapeFlag|=s}function ur(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const o in n)if(o==="class")t.class!==n.class&&(t.class=kt([t.class,n.class]));else if(o==="style")t.style=Es([t.style,n.style]);else if($s(o)){const i=t[o],l=n[o];l&&i!==l&&!(te(i)&&i.includes(l))&&(t[o]=i?[].concat(i,l):l)}else o!==""&&(t[o]=n[o])}return t}function qe(e,t,s,n=null){Ge(e,t,7,[s,n])}const dr=Xo();let fr=0;function pr(e,t,s){const n=e.type,o=(t?t.appContext:e.appContext)||dr,i={uid:fr++,vnode:e,type:n,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new xo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ni(n,o),emitsOptions:di(n,o),emit:null,emitted:null,propsDefaults:ue,inheritAttrs:n.inheritAttrs,ctx:ue,data:ue,props:ue,attrs:ue,slots:ue,refs:ue,setupState:ue,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=tr.bind(null,i),e.ce&&e.ce(i),i}let $e=null,xs,ln;{const e=Cs(),t=(s,n)=>{let o;return(o=e[s])||(o=e[s]=[]),o.push(n),i=>{o.length>1?o.forEach(l=>l(i)):o[0](i)}};xs=t("__VUE_INSTANCE_SETTERS__",s=>$e=s),ln=t("__VUE_SSR_SETTERS__",s=>es=s)}const os=e=>{const t=$e;return xs(e),e.scope.on(),()=>{e.scope.off(),xs(t)}},Bn=()=>{$e&&$e.scope.off(),xs(null)};function vi(e){return e.vnode.shapeFlag&4}let es=!1;function hr(e,t=!1,s=!1){t&&ln(t);const{props:n,children:o}=e.vnode,i=vi(e);Hl(e,n,i,t),Kl(e,o,s||t);const l=i?_r(e,t):void 0;return t&&ln(!1),l}function _r(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Pl);const{setup:n}=s;if(n){st();const o=e.setupContext=n.length>1?vr(e):null,i=os(e),l=ns(n,e,0,[e.props,o]),r=_o(l);if(nt(),i(),(r||e.sp)&&!Wt(e)&&Bo(e),r){if(l.then(Bn,Bn),t)return l.then(u=>{Gn(e,u)}).catch(u=>{Ls(u,e,0)});e.asyncDep=l}else Gn(e,l)}else gi(e)}function Gn(e,t,s){ne(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:pe(t)&&(e.setupState=Ho(t)),gi(e)}function gi(e,t,s){const n=e.type;e.render||(e.render=n.render||We);{const o=os(e);st();try{Ol(e)}finally{nt(),o()}}}const mr={get(e,t){return we(e,"get",""),e[t]}};function vr(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,mr),slots:e.slots,emit:e.emit,expose:t}}function Rs(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ho(Sn(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Bt)return Bt[s](e)},has(t,s){return s in t||s in Bt}})):e.proxy}function gr(e){return ne(e)&&"__vccOpts"in e}const he=(e,t)=>dl(e,t,es),yr="3.5.15";/**
* @vue/runtime-dom v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let rn;const Yn=typeof window<"u"&&window.trustedTypes;if(Yn)try{rn=Yn.createPolicy("vue",{createHTML:e=>e})}catch{}const yi=rn?e=>rn.createHTML(e):e=>e,br="http://www.w3.org/2000/svg",Sr="http://www.w3.org/1998/Math/MathML",Je=typeof document<"u"?document:null,Zn=Je&&Je.createElement("template"),wr={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const o=t==="svg"?Je.createElementNS(br,e):t==="mathml"?Je.createElementNS(Sr,e):s?Je.createElement(e,{is:s}):Je.createElement(e);return e==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:e=>Je.createTextNode(e),createComment:e=>Je.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Je.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,o,i){const l=s?s.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),s),!(o===i||!(o=o.nextSibling)););else{Zn.innerHTML=yi(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const r=Zn.content;if(n==="svg"||n==="mathml"){const u=r.firstChild;for(;u.firstChild;)r.appendChild(u.firstChild);r.removeChild(u)}t.insertBefore(r,s)}return[l?l.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},xr=Symbol("_vtc");function $r(e,t,s){const n=e[xr];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Jn=Symbol("_vod"),kr=Symbol("_vsh"),Ir=Symbol(""),Cr=/(^|;)\s*display\s*:/;function Er(e,t,s){const n=e.style,o=ve(s);let i=!1;if(s&&!o){if(t)if(ve(t))for(const l of t.split(";")){const r=l.slice(0,l.indexOf(":")).trim();s[r]==null&&ps(n,r,"")}else for(const l in t)s[l]==null&&ps(n,l,"");for(const l in s)l==="display"&&(i=!0),ps(n,l,s[l])}else if(o){if(t!==s){const l=n[Ir];l&&(s+=";"+l),n.cssText=s,i=Cr.test(s)}}else t&&e.removeAttribute("style");Jn in e&&(e[Jn]=i?n.display:"",e[kr]&&(n.display="none"))}const Xn=/\s*!important$/;function ps(e,t,s){if(te(s))s.forEach(n=>ps(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=Mr(e,t);Xn.test(s)?e.setProperty(gt(n),s.replace(Xn,""),"important"):e[n]=s}}const Qn=["Webkit","Moz","ms"],Gs={};function Mr(e,t){const s=Gs[t];if(s)return s;let n=ht(t);if(n!=="filter"&&n in e)return Gs[t]=n;n=go(n);for(let o=0;o<Qn.length;o++){const i=Qn[o]+n;if(i in e)return Gs[t]=i}return t}const eo="http://www.w3.org/1999/xlink";function to(e,t,s,n,o,i=Ai(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(eo,t.slice(6,t.length)):e.setAttributeNS(eo,t,s):s==null||i&&!bo(s)?e.removeAttribute(t):e.setAttribute(t,i?"":Be(s)?String(s):s)}function so(e,t,s,n,o){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?yi(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const r=i==="OPTION"?e.getAttribute("value")||"":e.value,u=s==null?e.type==="checkbox"?"on":"":String(s);(r!==u||!("_value"in e))&&(e.value=u),s==null&&e.removeAttribute(t),e._value=s;return}let l=!1;if(s===""||s==null){const r=typeof e[t];r==="boolean"?s=bo(s):s==null&&r==="string"?(s="",l=!0):r==="number"&&(s=0,l=!0)}try{e[t]=s}catch{}l&&e.removeAttribute(o||t)}function ut(e,t,s,n){e.addEventListener(t,s,n)}function Tr(e,t,s,n){e.removeEventListener(t,s,n)}const no=Symbol("_vei");function Lr(e,t,s,n,o=null){const i=e[no]||(e[no]={}),l=i[t];if(n&&l)l.value=n;else{const[r,u]=Pr(t);if(n){const f=i[t]=Rr(n,o);ut(e,r,f,u)}else l&&(Tr(e,r,l,u),i[t]=void 0)}}const oo=/(?:Once|Passive|Capture)$/;function Pr(e){let t;if(oo.test(e)){t={};let n;for(;n=e.match(oo);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):gt(e.slice(2)),t]}let Ys=0;const Or=Promise.resolve(),Ar=()=>Ys||(Or.then(()=>Ys=0),Ys=Date.now());function Rr(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Ge(Dr(n,s.value),t,5,[n])};return s.value=e,s.attached=Ar(),s}function Dr(e,t){if(te(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>o=>!o._stopped&&n&&n(o))}else return t}const io=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Fr=(e,t,s,n,o,i)=>{const l=o==="svg";t==="class"?$r(e,n,l):t==="style"?Er(e,s,n):$s(t)?dn(t)||Lr(e,t,s,n,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):jr(e,t,n,l))?(so(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&to(e,t,n,l,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ve(n))?so(e,ht(t),n,i,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),to(e,t,n,l))};function jr(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&io(t)&&ne(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return io(t)&&ve(s)?!1:t in e}const Ft=e=>{const t=e.props["onUpdate:modelValue"]||!1;return te(t)?s=>ds(t,s):t};function Nr(e){e.target.composing=!0}function lo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const tt=Symbol("_assign"),hs={created(e,{modifiers:{lazy:t,trim:s,number:n}},o){e[tt]=Ft(o);const i=n||o.props&&o.props.type==="number";ut(e,t?"change":"input",l=>{if(l.target.composing)return;let r=e.value;s&&(r=r.trim()),i&&(r=_s(r)),e[tt](r)}),s&&ut(e,"change",()=>{e.value=e.value.trim()}),t||(ut(e,"compositionstart",Nr),ut(e,"compositionend",lo),ut(e,"change",lo))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:o,number:i}},l){if(e[tt]=Ft(l),e.composing)return;const r=(i||e.type==="number")&&!/^0\d/.test(e.value)?_s(e.value):e.value,u=t??"";r!==u&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||o&&e.value.trim()===u)||(e.value=u))}},ro={created(e,{value:t},s){e.checked=Rt(t,s.props.value),e[tt]=Ft(s),ut(e,"change",()=>{e[tt](ts(e))})},beforeUpdate(e,{value:t,oldValue:s},n){e[tt]=Ft(n),t!==s&&(e.checked=Rt(t,n.props.value))}},En={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const o=ks(t);ut(e,"change",()=>{const i=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>s?_s(ts(l)):ts(l));e[tt](e.multiple?o?new Set(i):i:i[0]),e._assigning=!0,mt(()=>{e._assigning=!1})}),e[tt]=Ft(n)},mounted(e,{value:t}){co(e,t)},beforeUpdate(e,t,s){e[tt]=Ft(s)},updated(e,{value:t}){e._assigning||co(e,t)}};function co(e,t){const s=e.multiple,n=te(t);if(!(s&&!n&&!ks(t))){for(let o=0,i=e.options.length;o<i;o++){const l=e.options[o],r=ts(l);if(s)if(n){const u=typeof r;u==="string"||u==="number"?l.selected=t.some(f=>String(f)===String(r)):l.selected=Di(t,r)>-1}else l.selected=t.has(r);else if(Rt(ts(l),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ts(e){return"_value"in e?e._value:e.value}const Vr={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Hr=(e,t)=>{const s=e._withKeys||(e._withKeys={}),n=t.join(".");return s[n]||(s[n]=o=>{if(!("key"in o))return;const i=gt(o.key);if(t.some(l=>l===i||Vr[l]===i))return e(o)})},Ur=Ce({patchProp:Fr},wr);let ao;function qr(){return ao||(ao=Bl(Ur))}const zr=(...e)=>{const t=qr().createApp(...e),{mount:s}=t;return t.mount=n=>{const o=Wr(n);if(!o)return;const i=t._component;!ne(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const l=s(o,!1,Kr(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),l},t};function Kr(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Wr(e){return ve(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let bi;const Ds=e=>bi=e,Si=Symbol();function cn(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Yt;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Yt||(Yt={}));function Br(){const e=$o(!0),t=e.run(()=>G({}));let s=[],n=[];const o=Sn({install(i){Ds(o),o._a=i,i.provide(Si,o),i.config.globalProperties.$pinia=o,n.forEach(l=>s.push(l)),n=[]},use(i){return this._a?s.push(i):n.push(i),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return o}const wi=()=>{};function uo(e,t,s,n=wi){e.push(t);const o=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),n())};return!s&&ko()&&Fi(o),o}function Mt(e,...t){e.slice().forEach(s=>{s(...t)})}const Gr=e=>e(),fo=Symbol(),Zs=Symbol();function an(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,n)=>e.set(n,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const n=t[s],o=e[s];cn(o)&&cn(n)&&e.hasOwnProperty(s)&&!_e(n)&&!ft(n)?e[s]=an(o,n):e[s]=n}return e}const Yr=Symbol();function Zr(e){return!cn(e)||!e.hasOwnProperty(Yr)}const{assign:rt}=Object;function Jr(e){return!!(_e(e)&&e.effect)}function Xr(e,t,s,n){const{state:o,actions:i,getters:l}=t,r=s.state.value[e];let u;function f(){r||(s.state.value[e]=o?o():{});const d=rl(s.state.value[e]);return rt(d,i,Object.keys(l||{}).reduce((m,S)=>(m[S]=Sn(he(()=>{Ds(s);const T=s._s.get(e);return l[S].call(T,T)})),m),{}))}return u=xi(e,f,t,s,n,!0),u}function xi(e,t,s={},n,o,i){let l;const r=rt({actions:{}},s),u={deep:!0};let f,d,m=[],S=[],T;const w=n.state.value[e];!i&&!w&&(n.state.value[e]={}),G({});let E;function Y(y){let q;f=d=!1,typeof y=="function"?(y(n.state.value[e]),q={type:Yt.patchFunction,storeId:e,events:T}):(an(n.state.value[e],y),q={type:Yt.patchObject,payload:y,storeId:e,events:T});const K=E=Symbol();mt().then(()=>{E===K&&(f=!0)}),d=!0,Mt(m,q,n.state.value[e])}const D=i?function(){const{state:q}=s,K=q?q():{};this.$patch(R=>{rt(R,K)})}:wi;function B(){l.stop(),m=[],S=[],n._s.delete(e)}const H=(y,q="")=>{if(fo in y)return y[Zs]=q,y;const K=function(){Ds(n);const R=Array.from(arguments),N=[],X=[];function I(P){N.push(P)}function z(P){X.push(P)}Mt(S,{args:R,name:K[Zs],store:A,after:I,onError:z});let F;try{F=y.apply(this&&this.$id===e?this:A,R)}catch(P){throw Mt(X,P),P}return F instanceof Promise?F.then(P=>(Mt(N,P),P)).catch(P=>(Mt(X,P),Promise.reject(P))):(Mt(N,F),F)};return K[fo]=!0,K[Zs]=q,K},k={_p:n,$id:e,$onAction:uo.bind(null,S),$patch:Y,$reset:D,$subscribe(y,q={}){const K=uo(m,y,q.detached,()=>R()),R=l.run(()=>pt(()=>n.state.value[e],N=>{(q.flush==="sync"?d:f)&&y({storeId:e,type:Yt.direct,events:T},N)},rt({},u,q)));return K},$dispose:B},A=Ts(k);n._s.set(e,A);const b=(n._a&&n._a.runWithContext||Gr)(()=>n._e.run(()=>(l=$o()).run(()=>t({action:H}))));for(const y in b){const q=b[y];if(_e(q)&&!Jr(q)||ft(q))i||(w&&Zr(q)&&(_e(q)?q.value=w[y]:an(q,w[y])),n.state.value[e][y]=q);else if(typeof q=="function"){const K=H(q,y);b[y]=K,r.actions[y]=q}}return rt(A,b),rt(le(A),b),Object.defineProperty(A,"$state",{get:()=>n.state.value[e],set:y=>{Y(q=>{rt(q,y)})}}),n._p.forEach(y=>{rt(A,l.run(()=>y({store:A,app:n._a,pinia:n,options:r})))}),w&&i&&s.hydrate&&s.hydrate(A.$state,w),f=!0,d=!0,A}/*! #__NO_SIDE_EFFECTS__ */function is(e,t,s){let n,o;const i=typeof t=="function";typeof e=="string"?(n=e,o=i?s:t):(o=e,n=e.id);function l(r,u){const f=Vl();return r=r||(f?be(Si,null):null),r&&Ds(r),r=bi,r._s.has(n)||(i?xi(n,t,o,r):Xr(n,o,r)),r._s.get(n)}return l.$id=n,l}const Qr=is("inscription",()=>{const e=G([]),t=G([]),s=(w,E,Y=null)=>{try{if(console.log("[InscriptionStore] addInscription called with:",{sessionId:w==null?void 0:w.id,sessionName:w==null?void 0:w.name,slotId:E==null?void 0:E.id,rateId:Y==null?void 0:Y.id}),!w)return console.error("[InscriptionStore] Session is required"),!1;if(E!==null&&u(w,E))return console.warn("[InscriptionStore] Inscription already exists for this slot"),!1;const D={session:w,slot:E,selected_rate:null,price:0};if(E===null){if(!Y)return console.error("[InscriptionStore] Rate is required for non-numbered sessions"),!1;D.slot={id:null,name:null,rates:w.rates||[]},D.selected_rate=Y,D.price=Y.price||0}else if(E.rates&&E.rates.length>0){const B=E.rates[0];D.selected_rate=B,D.price=B.pivot?B.pivot.price:B.price}else if(w.rates&&w.rates.length>0){const B=w.rates[0];D.selected_rate=B,D.price=B.price||0}return e.value.push(D),console.log("[InscriptionStore] Inscription added:",D),console.log("[InscriptionStore] Total inscriptions:",e.value.length),S(),!0}catch(D){return console.error("[InscriptionStore] Error adding inscription:",D),!1}},n=w=>{try{if(w>=0&&w<e.value.length){const E=e.value.splice(w,1);return S(),!0}else return console.warn("[InscriptionStore] Invalid index for removal:",w),!1}catch(E){return console.error("[InscriptionStore] Error removing inscription:",E),!1}},o=w=>{try{if(console.log("[InscriptionStore] updateRate called with item:",w),!w||!w.selected_rate){console.warn("[InscriptionStore] updateRate: invalid item or rate");return}w.selected_rate.pivot?w.price=w.selected_rate.pivot.price:w.price=w.selected_rate.price,console.log("[InscriptionStore] Price updated to:",w.price)}catch(E){console.error("[InscriptionStore] Error updating rate:",E)}},i=he(()=>e.value.reduce((w,E)=>w+parseFloat(E.price||0),0)),l=(w,E,Y)=>e.value.findIndex(D=>{const B=D.session.id===w.id;if(E!==null&&D.slot&&D.slot.id){const H=D.slot.id==E.id;if(Y&&D.selected_rate){const k=D.selected_rate.id===Y.id;return B&&H&&k}return B&&H}if(E===null&&D.slot&&!D.slot.id){if(Y&&D.selected_rate){const H=D.selected_rate.id===Y.id;return B&&H}return B}return!1}),r=(w,E)=>{const Y=l(w,E);return Y>-1?e.value[Y]:null},u=(w,E)=>w?l(w,E)>-1:!1,f=(w,E)=>!w||!E?0:e.value.filter(Y=>Y.session.id==w.id&&Y.selected_rate&&Y.selected_rate.id==E.id).length,d=()=>{e.value.splice(0,e.value.length),S()},m=w=>{typeof w=="function"&&t.value.push(w)},S=()=>{t.value.forEach(w=>{try{w()}catch(E){console.error("[InscriptionStore] Error in observer callback:",E)}})};return{inscriptions:e,addInscription:s,removeInscription:n,updateRate:o,getTotal:i,findInscriptionIndex:l,findInscription:r,hasInscription:u,countInscriptions:f,clearAllInscriptions:d,registerObserverCallback:m,getDebugInfo:()=>({totalInscriptions:e.value.length,inscriptions:e.value.map(w=>{var E,Y;return{sessionId:w.session.id,slotId:((E=w.slot)==null?void 0:E.id)||"no-slot",rateId:((Y=w.selected_rate)==null?void 0:Y.id)||"no-rate",price:w.price}}),total:i.value})}}),ec=is("pack",()=>{const e=G([]),t=G(null),s=G([]),n=G([]),o=G([]),i=G([]),l=G([]),r=G(1),u=G(0),f=G(!1),d=G(1),m=G(10),S=I=>{I.sessions=[],t.value=I,R()},T=()=>{t.value&&(t.value.sessions=[]),t.value=null,s.value.splice(0,s.value.length),o.value.splice(0,o.value.length),n.value.splice(0,n.value.length),i.value.splice(0,i.value.length),f.value=!1},w=I=>{if(f.value)return!1;const z=s.value.findIndex(F=>F.id===I.id);z===-1?(t.value.sessions=t.value.sessions||[],t.value.sessions.push(I),s.value.push(I),I.is_selected=!0):(t.value.sessions.splice(z,1),s.value.splice(z,1),I.is_selected=!1)},E=(I,z,F)=>{if(console.log("[PackStore] Adding inscription:",{sessionId:I.id,slotId:z==null?void 0:z.id,rateId:F==null?void 0:F.id}),z&&b(I,z))return console.warn("[PackStore] Slot already used in another pack, cannot add"),null;const P={slot:z};return z===null&&(P.slot={rates:I.rates}),P.selected_rate=F,I.selection||(I.selection=[]),I.selection.push(P),console.log("[PackStore] Session selection after add:",I.selection.length),i.value.push({session:I,slot:z}),console.log("[PackStore] Total inscriptions:",i.value.length),X(),P},Y=(I,z)=>{var F;if(console.log("[PackStore] Removing inscription:",{sessionId:I.id,slotId:z==null?void 0:z.id}),D(I,z)){const P=B(I,z);if(i.value.splice(P,1),I.selection){const ee=I.selection.findIndex(ge=>z===null?ge.slot===null:ge.slot&&ge.slot.id===z.id);ee>-1&&(I.selection.splice(ee,1),console.log("[PackStore] Removed from session.selection at index:",ee))}console.log("[PackStore] Session selection after remove:",((F=I.selection)==null?void 0:F.length)||0),X()}},D=(I,z)=>B(I,z)>-1,B=(I,z)=>i.value.findIndex(F=>F.session.id===I.id&&(z===null||F.slot.id==z.id)),H=he(()=>e.value.reduce((I,z)=>I+parseFloat(z.price||0),0)),k=()=>s.value,A=()=>s.value.length,Z=()=>{i.value.splice(0,i.value.length)},b=(I,z)=>e.value.findIndex(F=>F.inscriptions.findIndex(P=>P.session.id===I.id&&(z===null||P.slot.id==z.id))>-1)>-1,y=()=>t.value,q=I=>n.value.find(z=>z.number_sessions===I||z.all_sessions===1),K=()=>new URLSearchParams(window.location.search).get("show_expired")==="true",R=async()=>{if(!t.value)return;let I=`/api/pack/${t.value.id}`;K()&&(I+="?show_expired=true");try{o.value.splice(0,o.value.length),s.value.splice(0,s.value.length),n.value.splice(0,n.value.length),window.showLoading&&window.showLoading();const F=await(await fetch(I)).json();o.value=F.events.filter(P=>P.sessions.length>0),n.value=F.rules,r.value=Math.min(...F.rules.map(P=>P.number_sessions))||1,u.value=Math.max(...F.rules.map(P=>P.number_sessions))||0,F.rules.length===1&&F.rules[0].all_sessions?f.value=!0:f.value=!1,d.value=F.min_per_cart,m.value=F.max_per_cart,o.value.forEach(P=>{P.sessions.forEach(ee=>{ee.event=P,ee.selection=[],f.value&&(t.value.sessions=t.value.sessions||[],t.value.sessions.push(ee),s.value.push(ee),ee.is_selected=!0)})}),X()}catch(z){console.error("Error loading pack events:",z)}finally{window.hideLoading&&window.hideLoading()}},N=I=>{l.value.push(I)},X=()=>{l.value.forEach(I=>I())};return{packs:e,selectedPack:t,selectedSessions:s,events:o,minNumberOfSessions:r,maxNumberOfSessions:u,allSessions:f,minPerCart:d,maxPerCart:m,selectPack:S,toggleSession:w,addInscription:E,removeInscription:Y,hasInscription:D,getTotal:H,getSelectedSessions:k,countSelectedSessions:A,resetInscriptions:Z,hasInscriptionAllPacks:b,getSelectedPack:y,getRule:q,loadEvents:R,registerObserverCallback:N,resetSelection:T}}),tc=is("gift",()=>{const e=G([]),t=G(null),s=G(null),n=G(null),o=G([]),i=Z=>{t.value=Z},l=()=>t.value,r=Z=>{s.value=Z,d(Z)},u=Z=>{n.value=Z},f=()=>s.value,d=Z=>{s.value=Z,t.value&&t.value.next_sessions&&t.value.next_sessions.forEach(b=>{b.is_selected=Z&&b.id===Z.id})},m=(Z,b)=>{const y={session:Z,slot:b,code:n.value};return b===null?y.slot={rates:Z.rates}:b.rates&&b.rates.length>0&&(y.selected_rate=b.rates[0]),y},S=Z=>{e.value.push(Z),A()},T=Z=>{e.value.splice(Z,1),A()},w=()=>{e.value.splice(0,e.value.length)},E=(Z,b,y)=>e.value.findIndex(q=>q.session.id===Z.id&&(b===null||q.slot.id==b.id)&&(typeof y>"u"||q.selected_rate.id===y.id)),Y=(Z,b)=>{const y=E(Z,b);return y>-1?e.value[y]:null},D=(Z,b)=>E(Z,b)>-1,B=Z=>e.value.findIndex(b=>b.code===Z)>-1,H=async Z=>{if(B(Z))throw new Error("Ja tens aquest codi a la cistella");window.showLoading&&window.showLoading();try{const y=await(await fetch(`/api/gift-card/validate?code=${Z}`)).json();if(!y.success)throw new Error("No s'ha trobat el codi o ja s'ha reclamat");return y}catch(b){throw b}finally{window.hideLoading&&window.hideLoading()}},k=Z=>{o.value.push(Z)},A=()=>{o.value.forEach(Z=>Z())};return{inscriptions:e,event:t,currentSession:s,currentCode:n,setEvent:i,getEvent:l,setCurrentSession:r,setCurrentCode:u,getCurrentSession:f,toggleSession:d,prepareInscription:m,addInscription:S,removeInscription:T,resetInscriptions:w,findInscriptionIndex:E,findInscription:Y,hasInscription:D,hasCode:B,validateCode:H,registerObserverCallback:k}}),sc=is("session",()=>{const e=G(null),t=G([]),s=l=>{e.value=l,l&&(typeof l.sold>"u"||l.sold===null)&&(l.sold=0),i()},n=()=>e.value,o=l=>{t.value.push(l)},i=()=>{t.value.forEach(l=>l())};return{currentSession:e,setCurrentSession:s,getCurrentSession:n,registerObserverCallback:o}}),nc=is("slotMap",()=>{const e=G(null),t=G(null),s=G(null),n=G(null);return{slotMap:e,zoomistPack:t,zoomistInscription:s,zoomistGift:n,loadSessionMap:async f=>{e.value=null;const d=`/api/session/${f}/configuration?${Math.random()}`;try{window.showLoading&&window.showLoading();const S=await(await fetch(d)).json();return e.value=S,S.space&&S.zones&&(S.space.zones=S.zones.map(T=>({id:T.id,name:T.name,color:T.color}))),S}catch(m){return console.error("Error loading session map:",m),null}finally{window.hideLoading&&window.hideLoading()}},getSlot:f=>!e.value||!e.value.zones?!1:e.value.zones.map(m=>m.slots).flat().find(m=>m.id==f),isReady:()=>e.value!==null,getZoomistInstance:f=>{switch(f){case"pack":return t.value;case"gift":return n.value;case"inscription":default:return s.value}},setZoomistInstance:(f,d)=>{switch(f){case"pack":t.value=d;break;case"gift":n.value=d;break;case"inscription":default:s.value=d;break}}}}),us=G(window.translations||{}),po=G(window.currentLocale||"es");function Ye(){return{$t:(o,i={})=>{const l=o.split(".");let r=us.value;for(const f of l)if(r&&typeof r=="object"&&r.hasOwnProperty(f))r=r[f];else return console.warn(`Translation key not found: ${o}`),o;if(typeof r!="string")return console.warn(`Translation value is not a string for key: ${o}`),o;let u=r;for(const[f,d]of Object.entries(i)){const m=new RegExp(`:${f}`,"g");u=u.replace(m,d)}return u},hasTranslation:o=>{const i=o.split(".");let l=us.value;for(const r of i)if(l&&typeof l=="object"&&l.hasOwnProperty(r))l=l[r];else return!1;return typeof l=="string"},getAllTranslations:()=>us.value,getLocale:()=>po.value,translations:us,currentLocale:po}}const oc={class:"box"},ic={class:"box-header"},lc={class:"box-title"},rc={class:"box-body"},cc={class:"table-responsive"},ac={class:"table table-hover align-middle"},uc={style:{width:"35%"}},dc={style:{width:"25%"}},fc={style:{width:"20%"}},pc={style:{width:"15%"}},hc=["value"],_c=["value"],mc=["onUpdate:modelValue","onChange"],vc=["value"],gc={class:"text-muted"},yc=["value"],bc=["onClick"],Sc={colspan:"5",class:"text-end"},wc={class:"btn btn-sm btn-success",type:"button","data-bs-toggle":"modal","data-bs-target":"#layoutModal"},xc={class:"table-secondary"},$c={colspan:"3"},kc={class:"text-success"},Ic={__name:"InscriptionsList",setup(e){const t=be("inscriptionStore"),{$t:s}=Ye(),n=he(()=>(console.log("[InscriptionsList] Current inscriptions:",t.inscriptions),t.inscriptions.forEach((u,f)=>{console.log(`[InscriptionsList] Inscription ${f}:`,{hasSession:!!u.session,sessionType:typeof u.session,session:u.session,hasSlot:!!u.slot,slot:u.slot})}),t.inscriptions)),o=he(()=>t.getTotal),i=u=>{t.updateRate(u)},l=u=>{t.removeInscription(u)},r=u=>{var m,S,T;if(typeof u=="string")return u;if(!u||typeof u!="object")return"Sin nombre";const f=document.documentElement.lang||"es",d=["ca","es","gl"];if((m=u[f])!=null&&m.trim())return u[f];for(let w of d)if((S=u[w])!=null&&S.trim())return u[w];for(let w in u)if((T=u[w])!=null&&T.trim())return u[w];return"Sin nombre"};return(u,f)=>(O(),j("div",oc,[c("div",ic,[c("h3",lc,$(U(s)("inscriptions_set")),1)]),c("div",rc,[c("div",cc,[c("table",ac,[c("thead",null,[c("tr",null,[c("th",uc,$(U(s)("session")),1),c("th",dc,$(U(s)("rate")),1),c("th",fc,$(U(s)("slot")),1),c("th",pc,$(U(s)("price")),1),f[0]||(f[0]=c("th",{style:{width:"5%"}},null,-1))])]),c("tbody",null,[(O(!0),j(fe,null,xe(n.value,(d,m)=>(O(),j("tr",{key:`inscription-${m}`},[c("td",null,[re($(d.session.name)+" ",1),c("input",{type:"hidden",name:"inscriptions[session_id][]",value:d.session.id},null,8,hc)]),c("td",null,[d.selected_rate?(O(),j("input",{key:0,type:"hidden",name:"inscriptions[rate_id][]",value:d.selected_rate.id},null,8,_c)):oe("",!0),et(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":S=>d.selected_rate=S,onChange:S=>i(d)},[(O(!0),j(fe,null,xe(d.slot.rates,S=>(O(),j("option",{key:S.id,value:S},$(r(S.name)),9,vc))),128))],40,mc),[[En,d.selected_rate]])]),c("td",null,[c("span",gc,$(d.slot.name),1),c("input",{type:"hidden",name:"inscriptions[slot_id][]",value:d.slot.id},null,8,yc)]),c("td",null,[c("strong",null,$(d.price)+"",1)]),c("td",null,[c("button",{class:"btn btn-sm btn-outline-danger",type:"button",onClick:S=>l(m)},f[1]||(f[1]=[c("i",{class:"la la-trash","aria-hidden":"true"},null,-1)]),8,bc)])]))),128)),c("tr",null,[c("td",Sc,[c("button",wc,[f[2]||(f[2]=c("i",{class:"la la-plus","aria-hidden":"true"},null,-1)),re(" "+$(U(s)("add_inscription")),1)])])]),c("tr",xc,[c("td",$c,[c("strong",null,$(U(s)("total")),1)]),c("td",null,[c("strong",kc,$(o.value)+"",1)]),f[3]||(f[3]=c("td",null,null,-1))])])])])])]))}},Cc={class:"box"},Ec={class:"box-header"},Mc={class:"box-title"},Tc={class:"box-body table-responsive"},Lc={class:"table table-hover"},Pc=["value"],Oc={key:0},Ac=["onClick"],Rc={colspan:"4",class:"text-end"},Dc={class:"btn btn-sm btn-success",type:"button","data-bs-toggle":"modal","data-bs-target":"#packsModal"},Fc={class:"table-secondary"},jc={__name:"PacksList",setup(e){const t=be("packStore"),{$t:s}=Ye(),n=he(()=>t.packs),o=he(()=>t.getTotal),i=u=>{n.value.length<=1?t.packs.splice(0):t.packs.splice(u,1)},l=u=>{const f={pack_id:u.id,selection:u.inscriptions.map(d=>({session_id:d.session.id,is_numbered:d.session.is_numbered,slot_id:d.slot?d.slot.id:null}))};return JSON.stringify(f)},r=u=>{var m,S,T;if(typeof u=="string")return u;if(!u||typeof u!="object")return"Sin nombre";const f=document.documentElement.lang||"es",d=["ca","es","en"];if((m=u[f])!=null&&m.trim())return u[f];for(let w of d)if((S=u[w])!=null&&S.trim())return u[w];for(let w in u)if((T=u[w])!=null&&T.trim())return u[w];return"Sin nombre"};return(u,f)=>(O(),j("div",Cc,[c("div",Ec,[c("h3",Mc,$(U(s)("packs")),1)]),c("div",Tc,[c("table",Lc,[c("thead",null,[c("tr",null,[c("th",null,$(U(s)("pack")),1),c("th",null,$(U(s)("inscriptions")),1),c("th",null,$(U(s)("price")),1),f[0]||(f[0]=c("th",null,null,-1))])]),c("tbody",null,[(O(!0),j(fe,null,xe(n.value,(d,m)=>(O(),j("tr",{key:m},[c("td",null,$(r(d.name)),1),c("td",null,[c("input",{type:"hidden",name:"packs[]",value:l(d)},null,8,Pc),(O(!0),j(fe,null,xe(d.inscriptions,S=>(O(),j("div",{key:S.session.id,class:"small"},[re($(r(S.session.event.name))+" ",1),S.session.is_numbered?(O(),j("span",Oc," - "+$(S.slot.name),1)):oe("",!0)]))),128))]),c("td",null,$(d.price)+" ",1),c("td",null,[c("button",{class:"btn btn-sm btn-outline-danger",type:"button",onClick:S=>i(m)},[f[1]||(f[1]=c("i",{class:"la la-trash me-1","aria-hidden":"true"},null,-1)),re(" "+$(U(s)("delete_item")),1)],8,Ac)])]))),128)),c("tr",null,[c("td",Rc,[c("button",Dc,[f[2]||(f[2]=c("i",{class:"la la-plus me-1","aria-hidden":"true"},null,-1)),re(" "+$(U(s)("new_pack")),1)])])]),c("tr",Fc,[c("td",null,[c("strong",null,$(U(s)("total")),1)]),f[3]||(f[3]=c("td",null,null,-1)),c("td",null,[c("strong",null,$(o.value)+"",1)]),f[4]||(f[4]=c("td",null,null,-1))])])])])]))}},Nc={class:"box"},Vc={class:"box-header"},Hc={class:"box-title"},Uc={class:"box-tools"},qc={class:"input-group input-group-sm",style:{width:"250px"}},zc=["disabled"],Kc={class:"box-body table-responsive"},Wc={class:"table table-hover"},Bc={style:{width:"50%"}},Gc={key:0},Yc=["value"],Zc={style:{width:"25%"}},Jc={class:"mb-0"},Xc=["value"],Qc={style:{width:"20%"}},ea={class:"mb-0"},ta=["value"],sa={style:{width:"5%"}},na=["onClick"],oa={__name:"GiftCardsList",setup(e){const t=be("giftStore"),{$t:s}=Ye(),n=G(""),o=G(!1),i=he(()=>t.inscriptions),l=f=>{t.removeInscription(f)},r=async()=>{if(n.value){o.value=!0;try{const f=await t.validateCode(n.value);f.success&&(t.setEvent(f.event),t.setCurrentCode(n.value),n.value="",new bootstrap.Modal(document.getElementById("layoutGiftModal")).show())}catch(f){window.PNotify?new PNotify({title:"Alerta",text:f.message,type:"warning"}):alert(f.message)}finally{o.value=!1}}},u=f=>{var S,T,w;if(typeof f=="string")return f;if(!f||typeof f!="object")return"Sin nombre";const d=document.documentElement.lang||"es",m=["ca","es","gl"];if((S=f[d])!=null&&S.trim())return f[d];for(let E of m)if((T=f[E])!=null&&T.trim())return f[E];for(let E in f)if((w=f[E])!=null&&w.trim())return f[E];return"Sin nombre"};return(f,d)=>(O(),j("div",Nc,[c("div",Vc,[c("h3",Hc,$(U(s)("gift_cards")),1),c("div",Uc,[c("div",qc,[et(c("input",{"onUpdate:modelValue":d[0]||(d[0]=m=>n.value=m),name:"table_search",class:"form-control",placeholder:"Code",type:"text",onKeyup:Hr(r,["enter"])},null,544),[[hs,n.value]]),c("button",{class:"btn btn-success",type:"button",onClick:r,disabled:o.value},$(U(s)("gift_card.validate")),9,zc)])])]),c("div",Kc,[c("table",Wc,[c("thead",null,[c("tr",null,[c("th",null,$(U(s)("session")),1),c("th",null,$(U(s)("slot")),1),c("th",null,$(U(s)("gift_card.code")),1),d[1]||(d[1]=c("th",null,null,-1))])]),c("tbody",null,[(O(!0),j(fe,null,xe(i.value,(m,S)=>(O(),j("tr",{key:S},[c("td",Bc,[re($(u(m.session.event.name))+" ",1),u(m.session.name)?(O(),j("span",Gc,"- "+$(u(m.session.name)),1)):oe("",!0),re(" ("+$(m.session.starts_on)+") ",1),c("input",{type:"hidden",name:"gift_cards[session_id][]",value:m.session.id},null,8,Yc)]),c("td",Zc,[c("p",Jc,$(m.slot.name),1),c("input",{type:"hidden",name:"gift_cards[slot_id][]",value:m.slot.id},null,8,Xc)]),c("td",Qc,[c("p",ea,$(m.code),1),c("input",{type:"hidden",name:"gift_cards[code][]",value:m.code},null,8,ta)]),c("td",sa,[c("button",{class:"btn btn-sm btn-outline-danger",type:"button",onClick:T=>l(S)},d[2]||(d[2]=[c("i",{class:"la la-trash","aria-hidden":"true"},null,-1)]),8,na)])]))),128))])])])]))}},ia={class:"box"},la={class:"box-header"},ra={class:"box-title"},ca={class:"box-body"},aa={class:"row mb-3"},ua={for:"client_email",class:"col-sm-3 col-form-label"},da={class:"col-sm-9"},fa={class:"row mb-3"},pa={for:"client_firstname",class:"col-sm-3 col-form-label"},ha={class:"col-sm-9"},_a={class:"row mb-3"},ma={for:"client_lastname",class:"col-sm-3 col-form-label"},va={class:"col-sm-9"},ga={__name:"ClientForm",props:{initialData:{type:Object,default:()=>({})}},setup(e){const t=G({email:"",firstname:"",lastname:""}),s=G(null),{$t:n}=Ye(),o=e,i=()=>{!window.$||!s.value||window.$(s.value).autocomplete({source:function(l,r){window.$.get("/api/client/autocomplete",{q:l.term}).done(function(u){r(u.map(f=>({label:`${f.email} - ${f.name} ${f.surname}`,value:f.email,name:f.name,surname:f.surname})))}).fail(function(u){console.error("Error searching:",u.responseText),r([])})},minLength:3,select:function(l,r){t.value.email=r.item.value,t.value.firstname=r.item.name,t.value.lastname=r.item.surname}})};return It(()=>{o.initialData.client&&Object.assign(t.value,o.initialData.client),mt(()=>{i()})}),(l,r)=>(O(),j("div",ia,[c("div",la,[c("h3",ra,$(U(n)("client")),1)]),c("div",ca,[c("div",aa,[c("label",ua,$(U(n)("email")),1),c("div",da,[et(c("input",{type:"email",class:"form-control",name:"client[email]",id:"client_email","onUpdate:modelValue":r[0]||(r[0]=u=>t.value.email=u),autocomplete:"email",ref_key:"emailInput",ref:s},null,512),[[hs,t.value.email]])])]),c("div",fa,[c("label",pa,$(U(n)("firstname")),1),c("div",ha,[et(c("input",{type:"text",class:"form-control",name:"client[firstname]",id:"client_firstname","onUpdate:modelValue":r[1]||(r[1]=u=>t.value.firstname=u),autocomplete:"given-name"},null,512),[[hs,t.value.firstname]])])]),c("div",_a,[c("label",ma,$(U(n)("lastname")),1),c("div",va,[et(c("input",{type:"text",class:"form-control",name:"client[lastname]",id:"client_lastname","onUpdate:modelValue":r[2]||(r[2]=u=>t.value.lastname=u),autocomplete:"family-name"},null,512),[[hs,t.value.lastname]])])])])]))}},ya={class:"box"},ba={class:"box-header"},Sa={class:"box-title"},wa={class:"box-body"},xa={key:0,class:"mb-3"},$a={class:"row mb-3"},ka={class:"col-sm-4 col-form-label"},Ia={class:"col-sm-8"},Ca={class:"form-control-plaintext"},Ea={class:"row mb-3"},Ma={class:"col-sm-4 col-form-label"},Ta={class:"col-sm-8"},La={class:"form-control-plaintext"},Pa={class:"row mb-3"},Oa={class:"col-sm-4 col-form-label"},Aa={class:"col-sm-8"},Ra={class:"form-control-plaintext"},Da={class:"row"},Fa={class:"col-sm-8 offset-sm-4"},ja={class:"form-check form-check-inline"},Na={class:"form-check-label py-0",for:"payment_type_cash"},Va={class:"form-check form-check-inline"},Ha={class:"form-check-label py-0",for:"payment_type_card"},Ua={__name:"PaymentForm",props:{entry:{type:Object,default:null}},setup(e){const t=G("cash"),{$t:s}=Ye();return(n,o)=>{var i;return O(),j("div",ya,[c("div",ba,[c("h3",Sa,$(U(s)("payment")),1)]),c("div",wa,[(i=e.entry)!=null&&i.payment?(O(),j("div",xa,[c("div",$a,[c("label",ka,$(U(s)("payment_code")),1),c("div",Ia,[c("p",Ca,$(e.entry.payment.order_code),1)])]),c("div",Ea,[c("label",Ma,$(U(s)("paid_at")),1),c("div",Ta,[c("p",La,$(e.entry.payment.paid_at),1)])]),c("div",Pa,[c("label",Oa,$(U(s)("payment_platform")),1),c("div",Aa,[c("p",Ra,$(e.entry.payment.gateway),1)])])])):oe("",!0),c("div",Da,[c("div",Fa,[c("div",ja,[et(c("input",{class:"form-check-input",type:"radio",id:"payment_type_cash",name:"payment_type",value:"cash","onUpdate:modelValue":o[0]||(o[0]=l=>t.value=l)},null,512),[[ro,t.value]]),c("label",Na,[o[2]||(o[2]=c("i",{class:"la la-money-bill"},null,-1)),re(" "+$(U(s)("payment_type.cash")),1)])]),c("div",Va,[et(c("input",{class:"form-check-input",type:"radio",id:"payment_type_card",name:"payment_type",value:"card","onUpdate:modelValue":o[1]||(o[1]=l=>t.value=l)},null,512),[[ro,t.value]]),c("label",Ha,[o[3]||(o[3]=c("i",{class:"la la-credit-card"},null,-1)),re(" "+$(U(s)("payment_type.card")),1)])])])])])])}}},jt=(e,t)=>{const s=e.__vccOpts||e;for(const[n,o]of t)s[n]=o;return s},ho=1.25,qa={__name:"SpaceLayout",props:{layoutUrl:{type:String,required:!0},layoutSession:{type:Object,required:!0},typeModel:{type:String,default:"inscription"}},emits:["add-inscription","remove-inscription"],setup(e,{emit:t}){const s=e,n=t,o=G(null),i=G(null),l=G(null),r=be("inscriptionStore"),u=be("packStore");be("giftStore");const f=be("slotMapStore"),d=G(s.layoutSession),m=window.slotStatus||{};let S=0,T=0,w=0,E=null,Y=new Map;const D=G(null),B=G(null),H=G(null),k={null:"#008102",1:"#ffa500",2:"#e53935",3:"#800080",4:"#7b68ee",5:"#ffffff",6:"#696969",7:"#b9b9b9",8:"#0368ae"},A=he(()=>{var h,v;return(((v=(h=d.value)==null?void 0:h.space)==null?void 0:v.zones)||[]).length<=1}),Z=G(!1),b=G(!1),y=(a,h=null)=>{console.log(`[SpaceLayout] ${a}`,h||"")},q=()=>{if(!D.value){const a=document.createElement("div");a.className="slot-popover",a.style.cssText=`
            position: fixed;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 10px 15px;
            border-radius: 6px;
            font-size: 13px;
            line-height: 1.5;
            pointer-events: none;
            z-index: 99999;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            max-width: 250px;
            word-wrap: break-word;
            display: none;
        `,document.body.appendChild(a),D.value=a}},K=(a,h)=>{const v=a.dataset.slotId||a.getAttribute("data-slot-id");if(!v)return;const g=f.getSlot(parseInt(v));if(!g)return;q();let _="";const C=g.lock_reason?k[g.lock_reason]||"#666":k[null];g.name&&(_+=`<div style="font-weight: 600; margin-bottom: 5px;">
            <span style="color: ${C};"></span> ${X(g.name)}
        </div>`),g.lock_reason!==null&&m[g.lock_reason]&&(_+=`<div style="color: #ffffff; font-size: 12px; margin-bottom: 5px;">
            ${X(m[g.lock_reason])}
        </div>`),g.comment&&(_+=`<div style="color: #e0e0e0; font-size: 12px;">
            ${X(g.comment)}
        </div>`),_&&(D.value.innerHTML=_,B.value=a,D.value.style.display="block",D.value.style.visibility="hidden",R(h),H.value&&clearTimeout(H.value),H.value=setTimeout(()=>{B.value===a&&D.value&&(D.value.style.visibility="visible")},500))},R=a=>{if(!D.value)return;const h=15;let v=a.clientX+h,g=a.clientY+h;const _=D.value.getBoundingClientRect();v+_.width>window.innerWidth&&(v=a.clientX-_.width-h),g+_.height>window.innerHeight&&(g=a.clientY-_.height-h),D.value.style.left=v+"px",D.value.style.top=g+"px"},N=()=>{H.value&&(clearTimeout(H.value),H.value=null),D.value&&(D.value.style.visibility="hidden"),B.value=null},X=a=>{const h=document.createElement("div");return h.textContent=a,h.innerHTML},I=a=>F(a),z=a=>{var g,_;if(!a.zone_id)return"#cccccc";const v=(((_=(g=d.value)==null?void 0:g.space)==null?void 0:_.zones)||[]).find(C=>C.id===a.zone_id);return(v==null?void 0:v.color)||"#cccccc"},F=a=>{const h=a.lock_reason??null;return k[h]||k[null]},P=a=>!(je(a)||Ct(a)&&s.typeModel!=="pack"||lt(a)||a.lock_reason===2||a.is_locked&&[1,4,5].includes(a.lock_reason)||a.is_locked&&a.lock_reason===8&&s.typeModel==="inscription"),ee=async()=>{var a,h;if(!(!s.layoutUrl||Z.value))try{Z.value=!0,(a=d.value)!=null&&a.id&&d.value.is_numbered&&await f.loadSessionMap(d.value.id),y(" Fetching SVG from:",s.layoutUrl);const v=await fetch(s.layoutUrl);if(!v.ok){y(" Fetch failed:",v.status);return}const g=await v.text();if(y(" SVG loaded, length:",g.length),o.value){o.value.innerHTML=`<object id='svg-object'>${g}</object>`,y(" SVG injected into DOM");const _=o.value.querySelector("svg");_&&(_.style.height="90%",_.style.width="90%",y(" SVG styles applied")),await mt(),ge(),(h=d.value)!=null&&h.is_numbered&&f.isReady()&&it()}else y(" spaceLayoutContainer is null")}catch(v){y(" Error loading layout:",v),console.error("Error loading layout:",v)}finally{Z.value=!1}},ge=()=>{var h,v;y("bindEventsToLayout called"),Re();const a=(h=o.value)==null?void 0:h.querySelectorAll(".slot");if(!a||a.length===0){y(" No slots found");return}y(` Found ${a.length} slots`),a.forEach((g,_)=>{const C=g.dataset.slotId||g.getAttribute("data-slot-id")||g.getAttribute("slot-id")||g.id;if(!C)return;const x=Fe(g,C);Y.set(g,x),g.addEventListener("click",x.click),g.addEventListener("pointerdown",x.pointerDown),g.addEventListener("pointermove",x.pointerMove),g.addEventListener("mouseenter",x.mouseEnter),g.addEventListener("mousemove",x.mouseMove),g.addEventListener("mouseleave",x.mouseLeave),g.classList.add("clickable-slot"),g.style.cursor="pointer"}),y(" Events bound to all slots"),setTimeout(function(){ls()},100),s.typeModel!=="pack"&&!((v=d.value)!=null&&v.zoom)&&Ns()},Fe=(a,h)=>{let v=null;return{click:_=>{_.preventDefault(),_.stopPropagation(),S===0&&(N(),Ee(a,h))},pointerDown:_=>{S=0,T=_.clientX,w=_.clientY,N()},pointerMove:_=>{const C=_.clientX,x=_.clientY,L=Math.abs(C-T),M=Math.abs(x-w);!S&&(L>10||M>10)&&(S=1,D.value&&D.value.style.display==="block"&&N())},mouseEnter:_=>{v&&(clearTimeout(v),v=null),K(a,_)},mouseLeave:()=>{H.value&&(clearTimeout(H.value),H.value=null),v=setTimeout(()=>{B.value===a&&N()},50)},mouseMove:_=>{B.value===a&&D.value&&R(_)}}},Re=()=>{Y.forEach((a,h)=>{h.removeEventListener("click",a.click),h.removeEventListener("pointerdown",a.pointerDown),h.removeEventListener("pointermove",a.pointerMove),h.removeEventListener("mouseenter",a.mouseEnter),h.removeEventListener("mousemove",a.mouseMove),h.removeEventListener("mouseleave",a.mouseLeave)}),Y.clear()},Ee=(a,h)=>{var _;const v=f.getSlot(parseInt(h));if(!v)return;const g=a.classList.contains("selected");if(!(!g&&!P(v))&&!a._clicking)if(a._clicking=!0,setTimeout(()=>{a._clicking=!1},300),g)n("remove-inscription",d.value,v),a.classList.remove("selected");else if(n("add-inscription",d.value,v),s.typeModel==="pack")mt(()=>{Ct(v)&&a.classList.add("selected")});else if(s.typeModel==="gift"){const C=(_=o.value)==null?void 0:_.querySelectorAll(".slot.selected");C==null||C.forEach(x=>{x.classList.remove("selected")}),a.classList.add("selected")}else je(v)&&a.classList.add("selected")},ls=()=>{var h,v,g;if(!(!((h=o.value)!=null&&h.querySelector("#svg-object"))||!((g=(v=d.value)==null?void 0:v.space)!=null&&g.zoom))){if(i.value){try{i.value.destroy()}catch(_){console.warn("Error destroying Zoomist:",_)}i.value=null}if(window.Zoomist&&document.querySelector(".modal.show")){const _=`.zoomist-container-${s.typeModel}`;if(document.querySelector(_))try{i.value=new window.Zoomist(_,{maxScale:7,bounds:!0,slider:!0,zoomer:!1,draggable:!1,on:{ready(){js(_)}}})}catch(x){console.warn("Error creating Zoomist:",x)}}}},js=a=>{const h=document.querySelector(a);if(!h)return;const v=h.querySelector(".zoomist-wrapper");if(!v)return;let g=!1,_=0,C=0,x=0,L=0,M=0,Q=0,V=null;const J=()=>{g&&i.value&&i.value.move&&i.value.move({x:M,y:Q})};v.addEventListener("mousedown",W=>{if(W.button===1){W.preventDefault(),g=!0,_=W.pageX,C=W.pageY,N();const se=h.querySelector(".zoomist-image");if(se){const ce=window.getComputedStyle(se).transform;if(ce!=="none"){const ie=new DOMMatrixReadOnly(ce);x=ie.m41,L=ie.m42}}v.style.cursor="grabbing",v.style.transition="none"}}),document.addEventListener("mousemove",W=>{if(!g)return;W.preventDefault();const se=W.pageX-_,ce=W.pageY-C;M=x+se,Q=L+ce,V&&cancelAnimationFrame(V),V=requestAnimationFrame(J)}),document.addEventListener("mouseup",W=>{if(W.button===1&&g){if(g=!1,v.style.cursor="default",i.value){const se=h.querySelector(".zoomist-image");se&&(se.style.transition="transform 0.2s ease-out",setTimeout(()=>{se.style.transition=""},200))}V&&(cancelAnimationFrame(V),V=null)}}),v.addEventListener("auxclick",W=>{W.button===1&&W.preventDefault()})},Ns=()=>{var h;if(!(!((h=o.value)!=null&&h.querySelector("#svg-object"))||!window.Selection)){if(l.value)try{l.value.destroy()}catch(v){console.warn("Error destroying Selection:",v)}try{l.value=window.Selection.create({class:"selection-area",selectables:[".slot.free"],boundaries:[".selection-wrap:not(.pack)"]}).on("start",({inst:v,selected:g,oe:_})=>{if(_.button===1)return v.cancel(),!1;N(),v.T.style.zIndex=1150,!_.ctrlKey&&!_.metaKey&&(g.forEach(C=>{const x=C.dataset.slotId||C.getAttribute("data-slot-id");if(x){const L=f.getSlot(parseInt(x));je(L)&&n("remove-inscription",d.value,L)}C.classList.remove("selected"),v.removeFromSelection(C)}),v.clearSelection())}).on("move",({changed:{removed:v,added:g}})=>{g.forEach(_=>{const C=_.dataset.slotId||_.getAttribute("data-slot-id");if(C){const x=f.getSlot(parseInt(C));x&&P(x)&&_.classList.add("selected")}}),v.forEach(_=>_.classList.remove("selected"))}).on("stop",({inst:v})=>{y("Selection finished, processing slots");const g=new Set;document.querySelectorAll(".slot.selected").forEach(_=>{const C=_.dataset.slotId||_.getAttribute("data-slot-id");C&&g.add(C)}),g.forEach(_=>{const C=document.querySelector(`.slot[data-slot-id="${_}"]`);if(!C)return;const x=f.getSlot(parseInt(_));if(!x)return;je(x)||(P(x)?(y(`Adding slot ${_} to cart`),n("add-inscription",d.value,x)):C.classList.remove("selected"))}),v.keepSelection()})}catch(v){console.warn("Error creating Selection:",v)}}},it=()=>{var v,g;if(!((v=d.value)!=null&&v.is_numbered)||!f.isReady()){const _=((E==null?void 0:E._retryCount)||0)+1;if(_>5){console.error("[SpaceLayout] SlotMap not ready after 5 retries");return}E&&clearTimeout(E),E=setTimeout(it,500),E._retryCount=_;return}E&&(clearTimeout(E),E=null);const a=(g=o.value)==null?void 0:g.querySelectorAll(".slot");if(!a||a.length===0){y(" No slots found");return}y(` Updating ${a.length} slots`);let h=0;requestAnimationFrame(()=>{a.forEach(_=>{var J,W;const C=_.dataset.slotId||_.getAttribute("data-slot-id");if(!C)return;const x=f.getSlot(parseInt(C));if(!x)return;if(_.dataset.bsPopover)try{(W=(J=window.bootstrap)==null?void 0:J.Popover.getInstance(_))==null||W.dispose()}catch{}_.classList.remove("free","border-slot");const L=je(x),M=Ct(x),Q=lt(x),V=I(x);_.style.fill=V,console.log("multi zone?",A.value),A.value?(_.style.stroke=x.lock_reason?F(x):"#008102",_.style.strokeWidth=ho):(_.style.stroke=z(x),_.style.strokeWidth=1),_.style.strokeWidth=ho,L&&s.typeModel==="inscription"?(_.classList.add("selected"),_.classList.add("free"),h++):M&&s.typeModel==="pack"?(_.classList.add("selected"),_.classList.add("free")):L||M||Q?(_.style.fill=I({...x,lock_reason:2}),A.value&&(_.style.stroke=k[2]),_.style.cursor="not-allowed",yt(_),h++):(P(x)?(_.classList.add("free"),_.style.cursor="pointer"):(console.log("np par qui"),_.style.cursor="not-allowed",yt(_)),x.lock_reason===5&&_.classList.add("border-slot"),x.is_locked&&x.lock_reason===2&&h++)}),d.value&&(d.value.sold=h),E&&(clearTimeout(E),E=null),y(" Session map updated")})},yt=a=>{a.classList.remove("free"),a.style.cursor="not-allowed";const h=Y.get(a);h&&(a.removeEventListener("click",h.click),a.removeEventListener("pointerdown",h.pointerDown),a.removeEventListener("pointermove",h.pointerMove),a.removeEventListener("mouseenter",h.mouseEnter),a.removeEventListener("mousemove",h.mouseMove),a.removeEventListener("mouseleave",h.mouseLeave),Y.delete(a))},je=a=>r.hasInscription(d.value,a),Ct=a=>u.hasInscription(d.value,a),lt=a=>u.hasInscriptionAllPacks(d.value,a),Tn=()=>{document.querySelectorAll(".slot.selected").forEach(h=>{const v=h.dataset.slotId||h.getAttribute("data-slot-id");if(v){const g=f.getSlot(parseInt(v)),_=je(g);g&&P(g)&&!_&&Ee(h,v)}h.classList.remove("selected")})},p=()=>{document.querySelectorAll(".slot.selected").forEach(h=>{const v=h.dataset.slotId||h.getAttribute("data-slot-id");if(v){const g=f.getSlot(parseInt(v));je(g)&&Ee(h,v)}h.classList.remove("selected")})};return typeof window<"u"&&(window.addSelectedSlots=Tn,window.removeSelectedSlots=p),pt(()=>s.layoutUrl,a=>{b.value&&ee()}),pt(()=>s.layoutSession,a=>{b.value&&(d.value=a,a!=null&&a.id&&a.is_numbered?f.loadSessionMap(a.id).then(()=>{ee()}):a&&ee())}),It(()=>{var a;s.layoutSession&&(d.value=s.layoutSession,(a=d.value)!=null&&a.id&&d.value.is_numbered?f.loadSessionMap(d.value.id).then(()=>{ee().then(()=>{b.value=!0})}):ee().then(()=>{b.value=!0}))}),$n(()=>{if(Re(),i.value)try{i.value.destroy()}catch(a){console.warn("Error destroying Zoomist on unmount:",a)}if(l.value)try{l.value.destroy()}catch(a){console.warn("Error destroying Selection on unmount:",a)}E&&clearTimeout(E),D.value&&(D.value.remove(),D.value=null),H.value&&clearTimeout(H.value)}),(a,h)=>{var v;return O(),j("div",{ref_key:"spaceLayoutContainer",ref:o,class:kt(["space-layout-container",{pack:e.typeModel==="pack"||((v=d.value)==null?void 0:v.zoom),"selection-wrap":!0}])},null,2)}}},Mn=jt(qa,[["__scopeId","data-v-f6173045"]]),za={class:"space-layout-legend"},Ka={class:"legend-labels list-unstyled d-flex flex-wrap gap-3 mb-3"},Wa={class:"d-flex align-items-center gap-2"},Ba={class:"d-flex align-items-center gap-2"},Ga={class:"d-flex align-items-center gap-2"},Ya={class:"d-flex align-items-center gap-2"},Za={class:"d-flex align-items-center gap-2"},Ja={class:"d-flex align-items-center gap-2"},Xa={class:"d-flex align-items-center gap-2"},Qa={class:"d-flex align-items-center gap-2"},eu={class:"d-flex align-items-center gap-2"},tu={__name:"SpaceLayoutLegend",props:{zones:{type:Array,default:()=>[]},showZones:{type:Boolean,default:!0}},setup(e){const{$t:t}=Ye();return(s,n)=>(O(),j("div",za,[c("ul",Ka,[c("li",Wa,[n[0]||(n[0]=c("span",{class:"slot-available"},null,-1)),c("small",null,$(U(t)("svg_layout.legend.available")),1)]),c("li",Ba,[n[1]||(n[1]=c("span",{class:"slot-selected"},null,-1)),c("small",null,$(U(t)("svg_layout.legend.selected")),1)]),c("li",Ga,[n[2]||(n[2]=c("span",{class:"slot-sold"},null,-1)),c("small",null,$(U(t)("svg_layout.legend.sold")),1)]),c("li",Ya,[n[3]||(n[3]=c("span",{class:"slot-booked"},null,-1)),c("small",null,$(U(t)("svg_layout.legend.booked")),1)]),c("li",Za,[n[4]||(n[4]=c("span",{class:"slot-booked-packs"},null,-1)),c("small",null,$(U(t)("svg_layout.legend.booked_packs")),1)]),c("li",Ja,[n[5]||(n[5]=c("span",{class:"slot-hidden"},null,-1)),c("small",null,$(U(t)("svg_layout.legend.hidden")),1)]),c("li",Xa,[n[6]||(n[6]=c("span",{class:"slot-locked"},null,-1)),c("small",null,$(U(t)("svg_layout.legend.locked")),1)]),c("li",Qa,[n[7]||(n[7]=c("span",{class:"slot-covid19"},null,-1)),c("small",null,$(U(t)("svg_layout.legend.covid19")),1)]),c("li",eu,[n[8]||(n[8]=c("span",{class:"slot-disability"},null,-1)),c("small",null,$(U(t)("svg_layout.legend.disability")),1)]),e.showZones&&e.zones&&e.zones.length>1?(O(!0),j(fe,{key:0},xe(e.zones,o=>(O(),j("li",{key:o.id,class:"d-flex align-items-center gap-2"},[c("span",{class:"slot-zone-indicator",style:Es({borderColor:o.color})},null,4),c("small",null,$(o.name),1)]))),128)):oe("",!0)])]))}},su=jt(tu,[["__scopeId","data-v-dcc013fc"]]),nu={id:"layoutModal",class:"modal fade",tabindex:"-1"},ou={class:"modal-dialog modal-xxl"},iu={class:"modal-content"},lu={class:"modal-header"},ru={class:"modal-title"},cu={class:"modal-body"},au={class:"row mb-2"},uu={class:"col-xl-8"},du=["value"],fu={class:"col-xl-4"},pu=["href"],hu={key:0,class:"row mb-3"},_u={class:"col-lg-6"},mu={class:"alert alert-info mb-0 py-2"},vu={key:0,class:"col-lg-6"},gu={class:"alert alert-warning mb-0 py-2"},yu={class:"row"},bu={class:"col-xl-9"},Su={key:0,class:"zoomist-container-inscription"},wu={class:"zoomist-wrapper"},xu={class:"zoomist-image"},$u={key:1},ku={key:0},Iu={class:"card-body"},Cu={class:"d-flex justify-content-between align-items-center"},Eu={class:"form-label mb-0"},Mu={class:"text-muted d-block"},Tu={class:"wrapper-rate"},Lu=["onClick","disabled"],Pu={class:"num"},Ou=["onClick","disabled"],Au={key:1,class:"alert alert-warning"},Ru={key:2,class:"alert alert-warning mt-3"},Du={class:"col-xl-3"},Fu={class:"sticky-sidebar"},ju={class:"alert alert-info mb-2 py-2"},Nu={class:"alert alert-info mb-2 py-2"},Vu={class:"inscriptions-list"},Hu={class:"card"},Uu={class:"card-body p-2"},qu={class:"d-block small"},zu={key:0},Ku={class:"text-muted"},Wu={key:1,class:"mt-1"},Bu={class:"text-info"},Gu={key:2,class:"mt-1"},Yu={class:"text-success"},Zu={class:"modal-footer"},Ju={class:"d-flex justify-content-end align-items-center w-100"},Xu={type:"button",class:"btn btn-success","data-bs-dismiss":"modal"},Qu={key:0,class:"w-100 mt-3"},ed={class:"help-text text-start small text-muted"},td={__name:"LayoutModal",setup(e){const{$t:t}=Ye(),s=be("inscriptionStore"),n=be("sessionStore"),o=be("slotMapStore"),i=G(0),l=G(null),r=G(""),u=G(window.sessions_list||[]);G(!1);const f=G(!1),d=G(!1),m=he(()=>s.inscriptions),S=he(()=>{const b=new URL(window.location.href);return b.searchParams.set("show_expired","true"),b.toString()}),T=b=>{var R,N;const y=b.session.id,q=((R=b.slot)==null?void 0:R.id)||"no-slot",K=((N=b.selected_rate)==null?void 0:N.id)||"no-rate";return`${y}-${q}-${K}-${Math.random()}`},w=async b=>{try{console.log("[LayoutModal] Loading rates for session:",b);const y=await fetch(`/api/session/${b}/rates`);if(!y.ok)throw new Error(`HTTP error! status: ${y.status}`);const q=await y.json();console.log("[LayoutModal] Rates loaded:",q),l.value&&l.value.id===b&&(l.value.rates=q.map(K=>({...K,quantity:0})),console.log("[LayoutModal] Rates assigned to session:",l.value.rates))}catch(y){console.error("[LayoutModal] Error loading rates:",y)}},E=async()=>{if(l.value)try{const b=l.value.id;if(console.log("[LayoutModal] Updating layout for session:",b),l.value.is_numbered){window.showLoading&&window.showLoading();const y=await o.loadSessionMap(b);y&&y.space&&(r.value=y.space.svg_host_path,l.value.space=y.space,n.setCurrentSession(l.value),await mt())}else await w(b),n.setCurrentSession(l.value)}catch(b){console.error("[LayoutModal] Error updating layout:",b)}finally{window.hideLoading&&window.hideLoading()}},Y=(b,y)=>{console.log("[LayoutModal] Adding inscription:",{sessionId:b.id,slotId:y==null?void 0:y.id});const q=s.addInscription(b,y);if(q){b.is_numbered&&(b.sold=(b.sold||0)+1);const K=document.querySelector(`[data-slot-id="${y.id}"]`);K&&(K.classList.add("selected"),K.setAttribute("data-checked","true"))}return q},D=(b,y)=>{console.log("[LayoutModal] Removing inscription:",{sessionId:b.id,slotId:y==null?void 0:y.id});const q=s.findInscriptionIndex(b,y);if(q>-1){s.removeInscription(q),b.is_numbered&&b.sold>0&&b.sold--;const K=document.querySelector(`[data-slot-id="${y.id}"]`);return K&&(K.classList.remove("selected"),K.setAttribute("data-checked","false")),!0}return!1},B=b=>{!b||!l.value||(b.quantity||0)<b.available&&(b.quantity=(b.quantity||0)+1,console.log("[LayoutModal] Increased rate:",b.id,"to:",b.quantity),s.addInscription(l.value,null,b)||(b.quantity--,console.warn("[LayoutModal] Failed to add inscription, reverting quantity")))},H=b=>{if(!b||!b.quantity||b.quantity===0)return;const y=s.findInscriptionIndex(l.value,null,b);console.log("[LayoutModal] Found inscription at index:",y),y>-1&&(s.removeInscription(y),b.quantity--,console.log("[LayoutModal] Decreased rate:",b.id,"to:",b.quantity))},k=b=>{var K,R,N;if(typeof b=="string")return b;if(!b||typeof b!="object")return"Sin nombre";const y=document.documentElement.lang||"es",q=["ca","es","en"];if((K=b[y])!=null&&K.trim())return b[y];for(let X of q)if((R=b[X])!=null&&R.trim())return b[X];for(let X in b)if((N=b[X])!=null&&N.trim())return b[X];return"Sin nombre"},A=async()=>{if(!window.sessions_list){const b=await fetch("/api/session?with_sales=false");window.sessions_list=await b.json()}return window.sessions_list},Z=async()=>{d.value||(u.value=await A(),d.value=!0,l.value=u.value.find(b=>!b.is_past)||u.value[u.value.length-1]),l.value&&await E()};return It(()=>{const b=document.getElementById("layoutModal");b==null||b.addEventListener("show.bs.modal",async()=>{f.value=!0,i.value++,await Z()}),b==null||b.addEventListener("hidden.bs.modal",()=>{f.value=!1})}),pt(l,async b=>{b&&f.value&&await E()}),(b,y)=>{var q,K,R,N,X;return O(),j("div",nu,[c("div",ou,[c("div",iu,[c("div",lu,[c("h5",ru,$(U(t)("select_session")),1),y[1]||(y[1]=c("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),c("div",cu,[c("div",au,[c("div",uu,[et(c("select",{class:"form-select","onUpdate:modelValue":y[0]||(y[0]=I=>l.value=I),onChange:E},[(O(!0),j(fe,null,xe(u.value,I=>(O(),j("option",{key:I.id,value:I},$(I.name),9,du))),128))],544),[[En,l.value]])]),c("div",fu,[c("a",{class:"btn btn-outline-secondary w-100",href:S.value},$(U(t)("show_all_sessions")),9,pu)])]),(q=l.value)!=null&&q.is_numbered?(O(),j("div",hu,[c("div",_u,[c("div",mu,[y[2]||(y[2]=c("i",{class:"la la-info-circle"},null,-1)),re(" "+$(U(t)("tickets_sold"))+": ",1),c("strong",null,$(l.value.sold),1)])]),l.value.free_positions<30?(O(),j("div",vu,[c("div",gu,[y[3]||(y[3]=c("i",{class:"la la-exclamation-triangle"},null,-1)),re(" "+$(U(t)("there_is_only"))+" ",1),c("strong",null,$(l.value.free_positions),1),re(" "+$(U(t)("free_slots_in_session")),1)])])):oe("",!0)])):oe("",!0),c("div",yu,[c("div",bu,[(K=l.value)!=null&&K.is_numbered?(O(),j("div",Su,[c("div",wu,[c("div",xu,[(O(),hi(Mn,{key:i.value,"layout-url":r.value,"layout-session":l.value,"type-model":"inscription",onAddInscription:Y,onRemoveInscription:D},null,8,["layout-url","layout-session"]))])])])):oe("",!0),l.value&&!l.value.is_numbered?(O(),j("div",$u,[l.value.rates&&l.value.rates.length>0?(O(),j("div",ku,[(O(!0),j(fe,null,xe(l.value.rates,I=>(O(),j("div",{key:I.id,class:"card mb-2"},[c("div",Iu,[c("div",Cu,[c("div",null,[c("label",Eu,$(k(I.name)),1),c("small",Mu," Precio: "+$(I.price)+" ",1)]),c("div",Tu,[c("button",{type:"button",class:"minus",onClick:z=>H(I),disabled:!I.quantity||I.quantity===0},y[4]||(y[4]=[c("i",{class:"la la-minus"},null,-1)]),8,Lu),c("span",Pu,$(I.quantity||0)+" / "+$(I.available),1),c("button",{type:"button",class:"plus",onClick:z=>B(I),disabled:(I.quantity||0)>=I.available},y[5]||(y[5]=[c("i",{class:"la la-plus"},null,-1)]),8,Ou)])])])]))),128))])):(O(),j("div",Au,y[6]||(y[6]=[c("i",{class:"la la-exclamation-triangle"},null,-1),re(" No hay tarifas disponibles para esta sesin ")]))),l.value.free_positions<30?(O(),j("div",Ru,[y[7]||(y[7]=c("i",{class:"la la-exclamation-triangle"},null,-1)),re(" "+$(U(t)("there_is_only"))+" ",1),c("strong",null,$(l.value.free_positions),1),re(" "+$(U(t)("free_slots_in_session")),1)])):oe("",!0)])):oe("",!0)]),c("div",Du,[c("div",Fu,[c("div",ju,[c("small",null,[y[8]||(y[8]=c("i",{class:"la la-info-circle"},null,-1)),re(" "+$(U(t)("zoom_help")),1)])]),c("div",Nu,[c("strong",null,"Total: "+$(m.value.length),1)]),c("div",Vu,[(O(!0),j(fe,null,xe(m.value,I=>(O(),j("div",{key:T(I),class:"inscription-item mb-2"},[c("div",Hu,[c("div",Uu,[c("strong",qu,$(I.session.name),1),I.slot&&I.slot.name?(O(),j("div",zu,[c("small",Ku,$(I.slot.name),1)])):oe("",!0),I.slot&&I.slot.comment?(O(),j("div",Wu,[c("small",Bu,$(I.slot.comment),1)])):oe("",!0),I.selected_rate?(O(),j("div",Gu,[c("small",Yu,$(k(I.selected_rate.name))+" - "+$(I.price)+" ",1)])):oe("",!0)])])]))),128))])])])])]),c("div",Zu,[c("div",Ju,[c("button",Xu,$(U(t)("end_selection")),1)]),(R=l.value)!=null&&R.is_numbered?(O(),j("div",Qu,[y[9]||(y[9]=c("hr",null,null,-1)),me(su,{zones:((X=(N=l.value)==null?void 0:N.space)==null?void 0:X.zones)||[]},null,8,["zones"]),c("p",ed,$(U(t)("svg_layout.help")),1)])):oe("",!0)])])])])}}},sd=jt(td,[["__scopeId","data-v-3daacee1"]]),Js=(e,t=0)=>{const s=Math.pow(10,t);return Math.round(e*s)/s},nd={id:"packsModal",class:"modal fade",tabindex:"-1",role:"dialog"},od={class:"modal-dialog modal-xxl",role:"document"},id={class:"modal-content"},ld={class:"modal-header"},rd={key:0,class:"modal-title"},cd={key:1,class:"modal-title"},ad={key:2,class:"modal-title"},ud={key:0,class:"modal-body"},dd={class:"row mb-4"},fd={class:"col-auto"},pd=["href"],hd={class:"row"},_d=["onClick"],md={class:"card h-100",style:{cursor:"pointer"}},vd={class:"card-body"},gd={class:"card-title"},yd={key:1,class:"modal-body"},bd={key:0,class:"alert alert-info"},Sd={key:1,class:"alert alert-warning"},wd={class:"row"},xd={class:"row"},$d=["onClick"],kd={class:"card-body"},Id={key:0},Cd={key:2,class:"modal-body"},Ed={class:"row"},Md={class:"col-xl-9"},Td={key:0,class:"zoomist-container-pack"},Ld={class:"zoomist-wrapper"},Pd={class:"zoomist-image"},Od={key:1,class:"row"},Ad={class:"col-md-8 offset-md-2"},Rd={class:"alert alert-info"},Dd={key:0},Fd={class:"col-xl-3"},jd={class:"sticky-sessions-list"},Nd=["onClick"],Vd={class:"card-body p-2"},Hd={class:"d-flex justify-content-between align-items-center"},Ud={class:"text-truncate",style:{"max-width":"150px"}},qd={class:"badge bg-primary"},zd={key:0,class:"mt-1"},Kd={class:"badge bg-danger small"},Wd={key:1,class:"mt-1"},Bd={class:"badge bg-success small"},Gd={class:"text-muted d-block text-truncate"},Yd={class:"modal-footer d-flex justify-content-between align-items-center"},Zd={class:"d-flex align-items-center gap-3"},Jd={key:0,class:"d-flex align-items-center gap-2"},Xd={class:"form-label mb-0"},Qd=["value"],ef=["disabled"],tf={__name:"PacksModal",setup(e){const{$t:t}=Ye(),s=be("packStore"),n=G(0),o=G(1),i=G(0),l=G(window.packs_list||[]),r=G(!1),u=he(()=>A()[i.value]),f=he(()=>{var R,N;return((N=(R=u.value)==null?void 0:R.space)==null?void 0:N.svg_host_path)||""}),d=he(()=>s.events),m=he(()=>s.minNumberOfSessions),S=he(()=>s.maxNumberOfSessions),T=he(()=>s.allSessions),w=he(()=>{const R=s.minPerCart,N=s.maxPerCart,X=[];for(let I=R;I<=N;I++)X.push(I);return X}),E=he(()=>{const R=new URL(window.location.href);return R.searchParams.set("show_expired","true"),R.toString()}),Y=R=>{s.selectPack(R),B()},D=R=>{T.value||s.toggleSession(R)},B=()=>{n.value===1?i.value=0:n.value===2&&(b(),bootstrap.Modal.getInstance(document.getElementById("packsModal")).hide(),y()),n.value++},H=(R,N)=>{var F,P;console.log("[PacksModal] Adding inscription:",{sessionId:R.id,slotId:N==null?void 0:N.id});const X=((F=N==null?void 0:N.rates)==null?void 0:F[0])||((P=R.rates)==null?void 0:P[0]);if(!X)return console.warn("[PacksModal] No rate available"),!1;if(!s.addInscription(R,N,X))return console.warn("[PacksModal] Slot not added (already used in another pack)"),!1;const z=document.querySelector(`[data-slot-id="${N.id}"]`);return z&&z.classList.add("selected"),!0},k=(R,N)=>{var I;console.log("[PacksModal] Removing inscription:",{sessionId:R.id,slotId:N==null?void 0:N.id}),s.removeInscription(R,N);const X=document.querySelector(`[data-slot-id="${N.id}"]`);return X&&X.classList.remove("selected"),console.log("[PacksModal] After removing:"),console.log("  - Selection length:",((I=R.selection)==null?void 0:I.length)||0),!0},A=()=>s.getSelectedSessions(),Z=()=>{var R,N;if(console.log("[Debug] Checking isNextStepReady..."),console.log("[Debug] Current step:",n.value),n.value===1){const X=s.countSelectedSessions();console.log("[Debug] Step 1 - Selected sessions count:",X);const I=X>=m.value&&X<=S.value||T.value;return console.log("[Debug] Step 1 result:",I),I}if(n.value===2){const X=A();console.log("[Debug] Step 2 - Selected sessions:",X),console.log("[Debug] Pack multiplier:",o.value);const I=X.filter(z=>z.is_numbered);if(console.log("[Debug] Numbered sessions only:",I),I.length===0)return console.log("[Debug]  No numbered sessions - ready!"),!0;for(let z of I){console.log(`[Debug] Checking numbered session ${z.id}:`),console.log(`  - Selection length: ${((R=z.selection)==null?void 0:R.length)||0}`);const F=z.selection&&z.selection.length===o.value;if(console.log(`  - Has correct slots (${o.value}): ${F}`),!F)return console.log(`  -  NOT READY: Need ${o.value}, has ${((N=z.selection)==null?void 0:N.length)||0}`),!1;console.log(`  -  Session ${z.id} is ready`)}return console.log("[Debug]  All numbered sessions ready!"),!0}return!1},b=()=>{for(let R=0;R<o.value;R++){const N=s.getSelectedPack(),X=s.getRule(N.sessions.length);let I=0;const z={id:N.id,name:N.name,inscriptions:[]};N.sessions.forEach(F=>{var ee;let P=parseFloat(F.price||0);if(X.price_pack)I+=P;else{const ge=(100-parseFloat(X.percent_pack))/100;if(P=Js(P*ge,4),N.round_to_nearest&&X.percent_pack){const Re=P/.5;P=Js(Re)*.5}I+=P}z.inscriptions.push({session:F,slot:F.is_numbered?(ee=F.selection[R])==null?void 0:ee.slot:null})}),X.price_pack?I=X.price_pack:I=Js(I,2),z.price=I,s.packs.push(z)}},y=()=>{n.value=0,i.value=0,o.value=1,s.resetSelection()},q=R=>{i.value=R},K=R=>{var I,z,F;if(typeof R=="string")return R;if(!R||typeof R!="object")return"Sin nombre";const N=document.documentElement.lang||"es",X=["ca","es","en"];if((I=R[N])!=null&&I.trim())return R[N];for(let P of X)if((z=R[P])!=null&&z.trim())return R[P];for(let P in R)if((F=R[P])!=null&&F.trim())return R[P];return"Sin nombre"};return pt(()=>A().map(N=>{var X;return{id:N.id,selectionLength:((X=N.selection)==null?void 0:X.length)||0,isNumbered:N.is_numbered}}),R=>{console.log("[Debug] Selection watcher triggered:",R),mt(()=>{const N=Z();console.log("[Debug] Is ready for next?",N);const X=document.querySelector(".modal-footer .btn-primary");X&&(X.disabled=!N)})},{deep:!0,immediate:!0}),It(()=>{const R=document.getElementById("packsModal");R==null||R.addEventListener("show.bs.modal",async()=>{r.value||(r.value=!0,l.value.length===0&&(l.value=window.packs_list||[])),y()})}),(R,N)=>{var X,I,z;return O(),j("div",nd,[c("div",od,[c("div",id,[c("div",ld,[n.value===0?(O(),j("h4",rd,$(U(t)("select_the_pack")),1)):oe("",!0),n.value===1?(O(),j("h4",cd,$(U(t)("select_the_sessions")),1)):oe("",!0),n.value===2?(O(),j("h4",ad,[re($(U(t)("select_slots_for"))+" ",1),c("strong",null,$(K((I=(X=u.value)==null?void 0:X.event)==null?void 0:I.name)),1)])):oe("",!0),N[1]||(N[1]=c("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),n.value===0?(O(),j("div",ud,[c("div",dd,[c("div",fd,[c("a",{class:"btn btn-outline-secondary",href:E.value},$(U(t)("show_all_packs")),9,pd)])]),c("div",hd,[(O(!0),j(fe,null,xe(l.value,F=>(O(),j("div",{key:F.id,class:"col-md-4 mb-3",onClick:P=>Y(F)},[c("div",md,[c("div",vd,[c("h5",gd,$(K(F.name)),1)])])],8,_d))),128))])])):oe("",!0),n.value===1?(O(),j("div",yd,[m.value>0&&!T.value?(O(),j("div",bd,[N[2]||(N[2]=c("i",{class:"fas fa-info-circle"},null,-1)),re(" "+$(U(t)("select_at_least"))+" ",1),c("strong",null,$(m.value),1),re(" "+$(U(t)("sessions_to_sell_this_pack"))+". ",1)])):oe("",!0),d.value.length===0?(O(),j("div",Sd," No se encontraron eventos con sesiones disponibles ")):oe("",!0),c("div",wd,[(O(!0),j(fe,null,xe(d.value,F=>(O(),j("div",{key:F.id,class:"col-12"},[c("h5",null,$(K(F.name)),1),c("div",xd,[(O(!0),j(fe,null,xe(F.sessions,P=>(O(),j("div",{key:P.id,class:"col-md-4 mb-3"},[c("div",{class:kt(["card",{"border-success bg-success bg-opacity-10":P.is_selected}]),onClick:ee=>D(P),style:{cursor:"pointer"}},[c("div",kd,[re($(K(F.name))+" ",1),K(P.name)?(O(),j("span",Id," - "+$(K(P.name)),1)):oe("",!0),re(" ("+$(P.starts_on)+") ",1)])],10,$d)]))),128))])]))),128))])])):oe("",!0),n.value===2?(O(),j("div",Cd,[c("div",Ed,[c("div",Md,[(z=u.value)!=null&&z.is_numbered?(O(),j("div",Td,[c("div",Ld,[c("div",Pd,[me(Mn,{"layout-url":f.value,"layout-session":u.value,"type-model":"pack",onAddInscription:H,onRemoveInscription:k},null,8,["layout-url","layout-session"])])])])):oe("",!0),u.value&&!u.value.is_numbered?(O(),j("div",Od,[c("div",Ad,[c("div",Rd,[N[3]||(N[3]=c("i",{class:"fas fa-info-circle"},null,-1)),re(" "+$(U(t)("sessio_no_numerada")),1),N[4]||(N[4]=c("br",null,null,-1)),u.value.free_positions<30?(O(),j("div",Dd,[re($(U(t)("there_is_only"))+" ",1),c("strong",null,$(u.value.free_positions),1),re(" "+$(U(t)("free_slots_in_session")),1)])):oe("",!0)])])])):oe("",!0)]),c("div",Fd,[c("div",jd,[(O(!0),j(fe,null,xe(A(),(F,P)=>{var ee,ge;return O(),j("div",{key:F.id,class:"mb-2"},[c("div",{class:kt(["card session-card",{"border-primary active":P===i.value}]),onClick:Fe=>q(P),style:{cursor:"pointer"}},[c("div",Vd,[c("div",Hd,[c("small",Ud,$(K(F.event.name)),1),c("span",qd,$(F.is_numbered?((ee=F.selection)==null?void 0:ee.length)||0:o.value)+"/"+$(o.value),1)]),F.is_numbered&&!((ge=F.selection)!=null&&ge.length)?(O(),j("div",zd,[c("span",Kd,$(U(t)("pendent")),1)])):oe("",!0),F.is_numbered?oe("",!0):(O(),j("div",Wd,[c("span",Bd,$(U(t)("sessio_no_numerada")),1)])),(O(!0),j(fe,null,xe(F.selection,Fe=>(O(),j("div",{key:Fe.slot.id,class:"mt-1"},[c("small",Gd,$(Fe.slot.name),1)]))),128))])],10,Nd)])}),128))])])])])):oe("",!0),c("div",Yd,[c("button",{type:"button",class:"btn btn-secondary",onClick:y},$(U(t)("reset")),1),c("div",Zd,[n.value===1?(O(),j("div",Jd,[c("label",Xd,$(U(t)("how_many_packs"))+"?",1),et(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":N[0]||(N[0]=F=>o.value=F),style:{width:"auto"}},[(O(!0),j(fe,null,xe(w.value,F=>(O(),j("option",{key:F,value:F},$(F),9,Qd))),128))],512),[[En,o.value]])])):oe("",!0),c("button",{type:"button",class:"btn btn-primary",disabled:!Z(),onClick:B}," Next ",8,ef)])])])])])}}},sf=jt(tf,[["__scopeId","data-v-4429f240"]]),nf={id:"layoutGiftModal",class:"modal fade",tabindex:"-1",role:"dialog"},of={class:"modal-dialog modal-xxl",role:"document"},lf={class:"modal-content"},rf={class:"modal-header"},cf={key:0,class:"modal-title"},af={key:1,class:"modal-title"},uf={key:0,class:"modal-body"},df={class:"row"},ff=["onClick"],pf={class:"card-body"},hf={key:0},_f={key:1,class:"modal-body"},mf={class:"row"},vf={class:"col-1 d-flex align-items-center"},gf={class:"col-10"},yf={key:0,class:"zoomist-container-gift"},bf={class:"zoomist-wrapper"},Sf={class:"zoomist-image"},wf={key:1,class:"d-flex align-items-center justify-content-center",style:{"min-height":"400px"}},xf={class:"col-md-6"},$f={class:"alert alert-info"},kf={key:0},If={class:"col-1 d-flex align-items-center justify-content-end"},Cf={class:"modal-footer"},Ef=["disabled"],Mf={__name:"GiftModal",setup(e){const{$t:t}=Ye(),s=be("giftStore"),n=G(0),o=G(0),i=G(null),l=he(()=>s.event),r=he(()=>s.currentSession),u=he(()=>{var k,A;return((A=(k=r.value)==null?void 0:k.space)==null?void 0:A.svg_host_path)||""}),f=k=>{s.setCurrentSession(k)},d=()=>{n.value===0?E():n.value===1&&Y(),n.value++},m=()=>{o.value--},S=()=>{o.value++},T=(k,A)=>(console.log("[GiftModal] Adding inscription for slot:",A==null?void 0:A.id),i.value?!1:(i.value=s.prepareInscription(k,A),!0)),w=(k,A)=>(console.log("[GiftModal] Removing inscription for slot:",A==null?void 0:A.id),i.value=null,!0),E=()=>{var A;const k=s.getCurrentSession();k&&(k.zoom=(A=k.space)==null?void 0:A.zoom,k.is_numbered||(i.value=s.prepareInscription(k,null)))},Y=()=>{i.value&&(console.log("[GiftModal] Finishing with inscription:",i.value),s.addInscription(i.value),s.setCurrentCode(null),i.value=null,bootstrap.Modal.getInstance(document.getElementById("layoutGiftModal")).hide(),B())},D=()=>n.value===0&&s.getCurrentSession()!==null||n.value===1&&i.value!==null,B=()=>{n.value=0,i.value=null,s.setCurrentSession(null)},H=k=>{var b,y,q;if(typeof k=="string")return k;if(!k||typeof k!="object")return"Sin nombre";const A=document.documentElement.lang||"es",Z=["ca","es","en"];if((b=k[A])!=null&&b.trim())return k[A];for(let K of Z)if((y=k[K])!=null&&y.trim())return k[K];for(let K in k)if((q=k[K])!=null&&q.trim())return k[K];return"Sin nombre"};return It(()=>{const k=document.getElementById("layoutGiftModal");k==null||k.addEventListener("shown.bs.modal",()=>{B()})}),(k,A)=>{var Z,b,y,q,K;return O(),j("div",nf,[c("div",of,[c("div",lf,[c("div",rf,[n.value===0?(O(),j("h4",cf,$(U(t)("gift_card.select_the_sessions")),1)):oe("",!0),n.value===1?(O(),j("h4",af,[re($(U(t)("select_slots_for"))+" ",1),c("strong",null,$(H((b=(Z=r.value)==null?void 0:Z.event)==null?void 0:b.name)),1)])):oe("",!0),A[0]||(A[0]=c("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),n.value===0?(O(),j("div",uf,[c("div",df,[(O(!0),j(fe,null,xe((y=l.value)==null?void 0:y.next_sessions,R=>(O(),j("div",{key:R.id,class:"col-md-4 mb-3"},[c("div",{class:kt(["card",{"border-success bg-success bg-opacity-10":R.is_selected}]),onClick:N=>f(R),style:{cursor:"pointer"}},[c("div",pf,[re($(H(l.value.name))+" ",1),H(R.name)?(O(),j("span",hf," - "+$(H(R.name)),1)):oe("",!0),re(" ("+$(R.starts_on)+") ",1)])],10,ff)]))),128))])])):oe("",!0),n.value===1?(O(),j("div",_f,[c("div",mf,[c("div",vf,[o.value>0?(O(),j("button",{key:0,class:"btn btn-link",onClick:m},A[1]||(A[1]=[c("i",{class:"fas fa-chevron-left text-muted fa-2x"},null,-1)]))):oe("",!0)]),c("div",gf,[(q=r.value)!=null&&q.is_numbered?(O(),j("div",yf,[c("div",bf,[c("div",Sf,[me(Mn,{"layout-url":u.value,"layout-session":r.value,"type-model":"gift",onAddInscription:T,onRemoveInscription:w},null,8,["layout-url","layout-session"])])])])):oe("",!0),r.value&&!r.value.is_numbered?(O(),j("div",wf,[c("div",xf,[c("div",$f,[A[2]||(A[2]=c("i",{class:"fas fa-info-circle"},null,-1)),re(" "+$(U(t)("sessio_no_numerada")),1),A[3]||(A[3]=c("br",null,null,-1)),r.value.free_positions<30?(O(),j("div",kf,[re($(U(t)("there_is_only"))+" ",1),c("strong",null,$(r.value.free_positions),1),re(" "+$(U(t)("free_slots_in_session")),1)])):oe("",!0)])])])):oe("",!0)]),c("div",If,[(K=l.value)!=null&&K.next_sessions&&o.value<l.value.next_sessions.length-1?(O(),j("button",{key:0,class:"btn btn-link",onClick:S},A[4]||(A[4]=[c("i",{class:"fas fa-chevron-right text-muted fa-2x"},null,-1)]))):oe("",!0)])])])):oe("",!0),c("div",Cf,[c("button",{type:"button",class:"btn btn-secondary",onClick:B},$(U(t)("reset")),1),c("button",{type:"button",class:"btn btn-primary",disabled:!D(),onClick:d}," Next ",8,Ef)])])])])}}},Tf=jt(Mf,[["__scopeId","data-v-6e2308e8"]]),Lf={id:"ticket-office-app"},Pf=["action"],Of=["value"],Af={class:"row"},Rf={class:"col-12"},Df={class:"mb-3"},Ff={class:"mb-3"},jf={class:"mb-3"},Nf={class:"col-md-6"},Vf={class:"mb-3"},Hf={class:"col-md-6"},Uf={class:"mb-3"},qf={class:"row"},zf={class:"col-12"},Kf=["disabled"],Wf={key:0},Bf={key:1},Gf={key:0,id:"loading"},Yf={__name:"TicketOffice",props:{storeRoute:{type:String,default:"/ticket-office/store"},canManageGiftCards:{type:Boolean,default:!1},oldData:{type:Object,default:()=>({})}},setup(e){var B;const t=e,s=G(!1),n=G(!1),o=G(((B=document.querySelector('meta[name="csrf-token"]'))==null?void 0:B.getAttribute("content"))||""),{$t:i}=Ye(),l=Qr(),r=ec(),u=tc(),f=sc(),d=nc();Lt("inscriptionStore",l),Lt("packStore",r),Lt("giftStore",u),Lt("sessionStore",f),Lt("slotMapStore",d);const m=H=>{console.log("[TicketOffice] Form submission initiated");const k=H.target.closest("form")||document.querySelector('form[method="POST"]');if(!k)return console.error("[TicketOffice] Form not found"),!1;const A=S();if(!A.isValid)return console.log("[TicketOffice] Validation failed:",A.message),E(A.message),!1;console.log("[TicketOffice] Validation passed, submitting form"),s.value=!0,k.submit()},S=()=>{const H=[],k=T();k.isValid||H.push(k.message);const A=w();return A.isValid||H.push(A.message),{isValid:H.length===0,message:H.join(`
`)}},T=()=>{var b,y,q,K,R,N;const H=(y=(b=document.querySelector('input[name="client[email]"]'))==null?void 0:b.value)==null?void 0:y.trim(),k=(K=(q=document.querySelector('input[name="client[firstname]"]'))==null?void 0:q.value)==null?void 0:K.trim(),A=(N=(R=document.querySelector('input[name="client[lastname]"]'))==null?void 0:R.value)==null?void 0:N.trim();return console.log("[Validation] Client data:",{email:H,firstname:k,lastname:A}),H&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(H)?{isValid:!1,message:"El email del cliente debe tener un formato vlido"}:{isValid:!0}},w=()=>{const H=l.inscriptions.length>0,k=r.packs.length>0,A=u.inscriptions.length>0;return console.log("[Validation] Cart status:",{hasInscriptions:H,hasPacks:k,hasGiftCards:A,inscriptionsCount:l.inscriptions.length,packsCount:r.packs.length,giftCardsCount:u.inscriptions.length}),!H&&!k&&!A?{isValid:!1,message:"Debe aadir al menos una inscripcin, un pack o una tarjeta regalo al carrito"}:{isValid:!0}},E=H=>{window.PNotify?new window.PNotify({title:"Error de validacin",text:H,type:"error",styling:"bootstrap4",delay:5e3}):window.Swal?window.Swal.fire({icon:"error",title:"Error de validacin",text:H,confirmButtonText:"Entendido"}):alert(`Error de validacin:

${H}`)},Y=()=>{n.value=!0},D=()=>{n.value=!1};return window.showLoading=Y,window.hideLoading=D,It(()=>{t.oldData&&Object.keys(t.oldData).length>0&&console.log("Loading old data:",t.oldData),document.addEventListener("keypress",H=>{if(H.target.closest("form")&&H.which===13)return H.preventDefault(),!1})}),(H,k)=>(O(),j("div",Lf,[c("form",{onSubmit:m,method:"POST",action:e.storeRoute},[c("input",{type:"hidden",name:"_token",value:o.value},null,8,Of),c("div",Af,[c("div",Rf,[c("div",Df,[me(Ic)]),c("div",Ff,[me(jc)]),c("div",jf,[me(oa)])]),c("div",Nf,[c("div",Vf,[me(ga,{"initial-data":e.oldData},null,8,["initial-data"])])]),c("div",Hf,[c("div",Uf,[me(Ua)])])]),c("div",qf,[c("div",zf,[c("button",{type:"button",class:"btn btn-lg btn-success btn-confirm",disabled:s.value,onClick:m},[s.value?(O(),j("span",Wf,k[0]||(k[0]=[c("i",{class:"fas fa-spinner fa-spin me-2"},null,-1),re(" Procesando... ")]))):(O(),j("span",Bf,$(U(i)("confirm_cart")),1))],8,Kf)])])],40,Pf),me(sd),me(sf),me(Tf),n.value?(O(),j("div",Gf,k[1]||(k[1]=[c("div",{class:"spinner-border text-light",role:"status"},[c("span",{class:"visually-hidden"},"Loading...")],-1)]))):oe("",!0)]))}},Zf=jt(Yf,[["__scopeId","data-v-febaac77"]]),Fs=zr(Zf,{...window.vueAppProps});Fs.use(Br());Fs.config.globalProperties.$sessionsData=window.sessions_list||[];Fs.config.globalProperties.$slotStatus=window.slotStatus||{};document.addEventListener("DOMContentLoaded",()=>{document.getElementById("ticket-office-app")?Fs.mount("#ticket-office-app"):console.error("Container #ticket-office-app not found")});
