(function(n,I,d,b){n.fn.tincketInscriptionValidator=function(t){var i=n.extend({},n.fn.tincketInscriptionValidator.defaults,t);return l(this,i),this},n.fn.tincketInscriptionValidator.defaults={input:"barcode",modalWrapper:"div.modal"};var o,e,a;function l(t,i){if(o=t,e=d.querySelector(i.modalWrapper),!e){console.error("Modal wrapper not found: "+i.modalWrapper);return}a=bootstrap.Modal.getOrCreateInstance(e),o.on("submit",s),e.addEventListener("hidden.bs.modal",function(){var r=o.find('[name="'+i.input+'"]');r.val(""),r.focus()})}function s(t){return t.preventDefault(),n.post(n(this).attr("action"),n(this).serialize(),function(i){h(i.data)}),!1}function c(){a||(a=bootstrap.Modal.getOrCreateInstance(e)),a.show()}function u(){a||(a=bootstrap.Modal.getOrCreateInstance(e)),a.hide()}function f(){n(e).find("div.result-icon").html('<span class="la la-check-circle" style="font-size: 5em; color: green;"></span>')}function p(){n(e).find("div.result-icon").html('<span class="la la-times-circle" style="font-size: 5em; color: red;"></span>')}function m(t){n(e).find("div.details").html(t.details)}function v(t){n("#n_validated").text(t.n_validated)}function h(t){t.success?(f(),setTimeout(u,1e3)):p(),m(t),v(t),c()}})(jQuery,window,document);
